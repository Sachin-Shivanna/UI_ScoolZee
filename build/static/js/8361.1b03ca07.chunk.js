"use strict";(self.webpackChunkscoolzee=self.webpackChunkscoolzee||[]).push([[8361,2509],{8361:function(e,n,i){i.r(n),i.d(n,{default:function(){return H}});var t=i(885),a=i(2791),s=i(4554),r=i(3896),l=i(3449),o=i(7283),d=i(4144),c=i(2982),u=i(1413),p=i(4165),m=i(5861),x=i(6140),h=i(4569),g=i.n(h),v=i(1971),f=i(1288),Z=i(6513),y=i(8455),j=i(8302),b=i(3712),S=i(6869),C=i(1787),N=i.n(C),k=i(5048),w=i(4942),I=i(8596),T=(0,I.Z)((function(e){return{grid:(0,w.Z)({flex:1,flexDirection:"row"},e.breakpoints.down("sm"),{flexDirection:"column",padding:"10px"}),label:(0,w.Z)({fontSize:"1rem",fontFamily:["Roboto","Helvetica","Arial","sans-serif"],fontWeight:"400",lineHeight:"1.5",letterSpacing:"0.00938em",color:e.palette.grey[700],"& .MuiTypography-body1":{fontSize:"1.3rem !important"}},e.breakpoints.down("sm"),{fontSize:"1rem !important",padding:"7px 10px 0px 7px","& .MuiTypography-body1":{fontSize:"1rem !important"}}),inputDesign:(0,w.Z)({fontSize:"1rem",fontFamily:["Roboto","Helvetica","Arial","sans-serif"],fontWeight:"400",lineHeight:"1.5",letterSpacing:"0.00938em","& .MuiInputBase-input":{padding:"3px 6px 7px;"}},e.breakpoints.down("sm"),{padding:"5px 10px 0px 7px","& .MuiInputBase-input":{padding:"6px 0 7px"}}),gridElement:(0,w.Z)({margin:"15px 0px",display:"flex",padding:"0px 20px 0px 0px"},e.breakpoints.down("sm"),{padding:"0px 0px 15px 0px !important",margin:0}),hideButtons:(0,w.Z)({},e.breakpoints.down("sm"),{display:"none"}),checkboxDesign:{padding:0,"& .MuiCheckbox-root":{padding:"0PX !important"}},addressLine:(0,w.Z)({},e.breakpoints.down("xs"),{width:"50%"}),header:{backgroundColor:"#101F33",padding:"5px",color:e.palette.common.white,marginTop:"10px"}}})),D=i(9271),F=i(184),P=function(){var e=T(),n=(0,D.k6)(),i=!1,s=(0,a.useState)(!1),r=(0,t.Z)(s,2),l=r[0],o=r[1],d=(0,a.useState)(!1),h=(0,t.Z)(d,2),C=h[0],w=h[1],I=(0,a.useState)(!1),P=(0,t.Z)(I,2),z=P[0],E=P[1],L=(0,a.useState)({}),B=(0,t.Z)(L,2),O=B[0],W=B[1],A=a.useState([]),M=(0,t.Z)(A,2),q=M[0],H=M[1];(0,a.useEffect)((function(){pe()}),[]);var R,U,K,_,J,X,G,Q,V,Y,$,ee,ne,ie,te,ae,se,re,le,oe,de,ce,ue,pe=function(){var e=(0,m.Z)((0,p.Z)().mark((function e(){var t;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),i=!1,t=g().CancelToken.source(),e.next=5,g().get("".concat("http://localhost:8000/web","/institution-info")).then((function(e){W(e.data.instituteDetails)})).catch((function(e){i||403===e.request.status&&(localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),n.replace("/login"),n.go(0)),w(!0)})).finally((function(){return o(!1),function(){i=!0,t.cancel("Cancelling in cleanup")}}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(e,n){var i,t=null===(i=O.workingDays)||void 0===i?void 0:i.filter((function(n){return n.day!==e})),a=[].concat((0,c.Z)(t),[{day:e,sessions:n}]);W((0,u.Z)((0,u.Z)({},O),{},{workingDays:a}))},xe=function(){var e,n,i,t,a,s,r,l,o,d,c,u,p,m=!0,x=[];O.name||(x.push("name"),m=!1),O.phone||(x.push("phone"),m=!1),/[a-zA-Z]/g.test(O.phone)&&(x.push("phoneInvalid"),m=!1),10!==(null===(e=O.phone)||void 0===e?void 0:e.length)&&(x.push("phoneInvalid"),m=!1),O.email||(x.push("email"),m=!1),O.email.match(/\S+@\S+\.\S+/)||(x.push("emailInvalid"),m=!1),console.log(null===(n=O.address)||void 0===n?void 0:n.addressLine1),null!==(i=O.address)&&void 0!==i&&i.addressLine1||(x.push("addrLine1"),m=!1),console.log(null===(t=O.address)||void 0===t?void 0:t.city),null!==(a=O.address)&&void 0!==a&&a.city||(x.push("city"),m=!1),console.log(!(null!==(s=O.address)&&void 0!==s&&s.district)),null!==(r=O.address)&&void 0!==r&&r.district||(x.push("district"),m=!1),console.log(null===(l=O.address)||void 0===l?void 0:l.state),null!==(o=O.address)&&void 0!==o&&o.state||(x.push("state"),m=!1),console.log(null===(d=O.address)||void 0===d?void 0:d.country),null!==(c=O.address)&&void 0!==c&&c.country||(x.push("country"),m=!1),console.log(null===(u=O.address)||void 0===u?void 0:u.zipCode),null!==(p=O.address)&&void 0!==p&&p.zipCode||(x.push("pinCode"),m=!1),m?he():H(x)},he=function(){var e=(0,m.Z)((0,p.Z)().mark((function e(){var t;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),i=!1,t=g().CancelToken.source(),e.next=5,g().post("".concat("http://localhost:8000/web","/institution-update"),{institutionDetails:O}).then((function(e){E(!z),x.ZP.success("Saved!!")})).catch((function(e){i||(403===e.request.status&&(localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),n.replace("/login"),n.go(0)),400===e.request.status&&x.ZP.error("Something went wtong! Please try again...")),w(!0)})).finally((function(){return o(!1),function(){i=!0,t.cancel("Cancelling in cleanup")}}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return C?(0,F.jsx)(v.Z,{style:{paddingTop:"50%",backgroundColor:"white"},children:(0,F.jsx)(k.Z,{isPageLoading:l})}):l?(0,F.jsx)(v.Z,{style:{top:"50%"},children:(0,F.jsx)(k.Z,{isPageLoading:l})}):(0,F.jsxs)(a.Fragment,{children:["Admin"===(null===(R=JSON.parse(localStorage.getItem("userDetail")))||void 0===R||null===(U=R.profile)||void 0===U?void 0:U.name)?(0,F.jsx)(v.Z,{component:"span",className:e.hideButtons,children:(0,F.jsxs)(f.Z,{container:!0,spacing:5,children:[(0,F.jsx)(f.Z,{xs:6,md:6,justifyContent:"flex-end",className:e.gridElement,children:(0,F.jsx)(Z.Z,{variant:"contained",size:"medium",onClick:function(){z?xe():E(!z)},children:z?"Save":"Edit"})}),(0,F.jsx)(f.Z,{xs:6,md:6,justifyContent:"flex-end",className:e.gridElement,children:(0,F.jsx)(y.Z,{onClick:function(){n.push("setup/billing-details")},style:{cursor:"pointer"},children:"Billing Details"})})]})}):(0,F.jsx)("span",{}),(0,F.jsx)(j.Z,{className:e.header,children:"Information :"}),(0,F.jsx)(b.Z,{style:{paddingTop:30,backgroundColor:"white",paddingLeft:45},children:(0,F.jsxs)(f.Z,{container:!0,spacing:5,className:e.grid,children:[(0,F.jsxs)(f.Z,{xs:12,md:6,className:e.gridElement,children:[(0,F.jsx)(j.Z,{className:e.label,children:"Institution :"}),(0,F.jsx)(S.Z,{style:{flex:1},InputProps:{readOnly:!z,disableUnderline:!z,className:e.inputDesign},helperText:q.includes("name")?"Name is required":"",error:q.includes("name"),onFocus:function(){H(q.filter((function(e){return"name"!==e})))},value:O.name,id:"name",onChange:function(e){var n;n=e,W((0,u.Z)((0,u.Z)({},O),{},{name:n.target.value}))},variant:"standard"})]}),(0,F.jsxs)(f.Z,{xs:12,md:6,className:e.gridElement,children:[(0,F.jsx)(j.Z,{className:e.label,children:"Email :"}),(0,F.jsx)(S.Z,{style:{flex:1},InputProps:{readOnly:!z,disableUnderline:!z,className:e.inputDesign},helperText:q.includes("email")?"Email is required":q.includes("emailInvalid")?"Email is invalid":"",error:q.includes("email")||q.includes("emailInvalid"),onFocus:function(){H(q.filter((function(e){return!e.includes("email")})))},value:O.email,id:"email",onChange:function(e){var n;n=e,W((0,u.Z)((0,u.Z)({},O),{},{email:n.target.value}))},"aria-describedby":"component-error-text",variant:"standard"})]}),(0,F.jsxs)(f.Z,{xs:12,md:6,className:e.gridElement,children:[(0,F.jsx)(j.Z,{className:e.label,children:"Phone :"}),(0,F.jsx)(S.Z,{style:{flex:1},InputProps:{readOnly:!z,disableUnderline:!z,className:e.inputDesign},value:O.phone,id:"phone",helperText:q.includes("phone")?"Phone Number is required":q.includes("phoneInvalid")?"Phone Number is invalid":"",error:q.includes("phone")||q.includes("phoneInvalid"),onFocus:function(){H(q.filter((function(e){return!e.includes("phone")})))},onChange:function(e){var n;n=e,W((0,u.Z)((0,u.Z)({},O),{},{phone:n.target.value}))},"aria-describedby":"component-error-text",variant:"standard"})]})]})}),(0,F.jsx)(j.Z,{className:e.header,children:"Address :"}),(0,F.jsx)(b.Z,{style:{paddingTop:30,backgroundColor:"white",paddingLeft:45},children:(0,F.jsxs)(f.Z,{container:!0,spacing:5,className:e.grid,children:[(0,F.jsxs)(f.Z,{xs:12,md:6,className:e.gridElement,children:[(0,F.jsx)(j.Z,{className:[e.label,e.addressLine],children:"Address Line 1 :"}),(0,F.jsx)(S.Z,{style:{flex:1},InputProps:{readOnly:!z,disableUnderline:!z,className:e.inputDesign},value:null===(K=O.address)||void 0===K?void 0:K.addressLine1,id:"addressLine1",helperText:q.includes("addrLine1")?"Address Line 1 is required":"",onFocus:function(){H(q.filter((function(e){return"addrLine1"!==e})))},error:q.includes("addrLine1"),onChange:function(e){!function(e){var n=O.address;n.addressLine1=e.target.value,W((0,u.Z)((0,u.Z)({},O),{},{address:n}))}(e)},variant:"standard"})]}),(0,F.jsxs)(f.Z,{xs:12,md:6,className:e.gridElement,children:[(0,F.jsx)(j.Z,{className:[e.label,e.addressLine],children:"Address Line 2 :"}),(0,F.jsx)(S.Z,{style:{flex:1},InputProps:{readOnly:!z,disableUnderline:!z,className:e.inputDesign},value:null===(_=O.address)||void 0===_?void 0:_.addressLine2,id:"addressLine2",onChange:function(e){!function(e){var n=O.address;n.addressLine2=e.target.value,W((0,u.Z)((0,u.Z)({},O),{},{address:n}))}(e)},variant:"standard"})]}),(0,F.jsxs)(f.Z,{xs:12,md:6,className:e.gridElement,children:[(0,F.jsx)(j.Z,{className:e.label,children:"City :"}),(0,F.jsx)(S.Z,{style:{flex:1},InputProps:{readOnly:!z,disableUnderline:!z,className:e.inputDesign},value:null===(J=O.address)||void 0===J?void 0:J.city,id:"city",helperText:q.includes("city")?"City is required":"",error:q.includes("city"),onFocus:function(){H(q.filter((function(e){return"city"!==e})))},onChange:function(e){!function(e){var n=O.address;n.city=e.target.value,W((0,u.Z)((0,u.Z)({},O),{},{address:n}))}(e)},variant:"standard"})]}),(0,F.jsxs)(f.Z,{xs:12,md:6,className:e.gridElement,children:[(0,F.jsx)(j.Z,{className:e.label,children:"District :"}),(0,F.jsx)(S.Z,{style:{flex:1},InputProps:{readOnly:!z,disableUnderline:!z,className:e.inputDesign},value:null===(X=O.address)||void 0===X?void 0:X.district,helperText:q.includes("district")?"District is required":"",error:q.includes("district"),onFocus:function(){H(q.filter((function(e){return"district"!==e})))},id:"district",onChange:function(e){!function(e){var n=O.address;n.district=e.target.value,W((0,u.Z)((0,u.Z)({},O),{},{address:n}))}(e)},variant:"standard"})]}),(0,F.jsxs)(f.Z,{xs:12,md:6,className:e.gridElement,children:[(0,F.jsx)(j.Z,{className:e.label,children:"State :"}),(0,F.jsx)(S.Z,{style:{flex:1},InputProps:{readOnly:!z,disableUnderline:!z,className:e.inputDesign},value:null===(G=O.address)||void 0===G?void 0:G.state,id:"state",helperText:q.includes("state")?"State is required":"",error:q.includes("state"),onFocus:function(){H(q.filter((function(e){return"state"!==e})))},onChange:function(e){!function(e){var n=O.address;n.state=e.target.value,W((0,u.Z)((0,u.Z)({},O),{},{address:n}))}(e)},variant:"standard"})]}),(0,F.jsxs)(f.Z,{xs:12,md:6,className:e.gridElement,children:[(0,F.jsx)(j.Z,{className:e.label,children:"Country :"}),(0,F.jsx)(S.Z,{style:{flex:1},InputProps:{readOnly:!z,disableUnderline:!z,className:e.inputDesign},value:null===(Q=O.address)||void 0===Q?void 0:Q.country,id:"country",helperText:q.includes("country")?"Country is required":"",error:q.includes("country"),onFocus:function(){H(q.filter((function(e){return"country"!==e})))},onChange:function(e){!function(e){var n=O.address;n.country=e.target.value,W((0,u.Z)((0,u.Z)({},O),{},{address:n}))}(e)},variant:"standard"})]}),(0,F.jsxs)(f.Z,{xs:12,md:6,className:e.gridElement,children:[(0,F.jsx)(j.Z,{className:e.label,children:"PIN Code :"}),(0,F.jsx)(S.Z,{style:{flex:1},InputProps:{readOnly:!z,disableUnderline:!z,className:e.inputDesign},value:null===(V=O.address)||void 0===V?void 0:V.zipCode,id:"zipCode",helperText:q.includes("pinCode")?"Pin Code is required":"",error:q.includes("pinCode"),onFocus:function(){H(q.filter((function(e){return"pinCode"!==e})))},onChange:function(e){!function(e){var n=O.address;n.zipCode=e.target.value,W((0,u.Z)((0,u.Z)({},O),{},{address:n}))}(e)},variant:"standard"})]})]})}),(0,F.jsx)(j.Z,{className:e.header,children:"Course sessions per day :"}),(0,F.jsx)(b.Z,{style:{paddingTop:30,backgroundColor:"white",paddingLeft:45},children:(0,F.jsxs)(f.Z,{container:!0,spacing:5,className:e.grid,children:[(0,F.jsxs)(f.Z,{xs:12,md:6,className:e.gridElement,children:[(0,F.jsx)(j.Z,{className:e.label,children:"Monday :"}),(0,F.jsx)(N(),{readOnly:!z,min:0,max:10,onChange:function(e){me("Monday",e)},value:null===(Y=O.workingDays)||void 0===Y||null===($=Y.find((function(e){return"Monday"===e.day})))||void 0===$?void 0:$.sessions})]}),(0,F.jsxs)(f.Z,{xs:12,md:6,className:e.gridElement,children:[(0,F.jsx)(j.Z,{className:e.label,children:"Tuesday :"}),(0,F.jsx)(N(),{readOnly:!z,min:0,max:10,onChange:function(e){me("Tuesday",e)},value:null===(ee=O.workingDays)||void 0===ee||null===(ne=ee.find((function(e){return"Tuesday"===e.day})))||void 0===ne?void 0:ne.sessions})]}),(0,F.jsxs)(f.Z,{xs:12,md:6,className:e.gridElement,children:[(0,F.jsx)(j.Z,{className:e.label,children:"Wednesday :"}),(0,F.jsx)(N(),{readOnly:!z,min:0,max:10,onChange:function(e){me("Wednesday",e)},value:null===(ie=O.workingDays)||void 0===ie||null===(te=ie.find((function(e){return"Wednesday"===e.day})))||void 0===te?void 0:te.sessions})]}),(0,F.jsxs)(f.Z,{xs:12,md:6,className:e.gridElement,children:[(0,F.jsx)(j.Z,{className:e.label,children:"Thursday :"}),(0,F.jsx)(N(),{readOnly:!z,min:0,max:10,onChange:function(e){me("Thursday",e)},value:null===(ae=O.workingDays)||void 0===ae||null===(se=ae.find((function(e){return"Thursday"===e.day})))||void 0===se?void 0:se.sessions})]}),(0,F.jsxs)(f.Z,{xs:12,md:6,className:e.gridElement,children:[(0,F.jsx)(j.Z,{className:e.label,children:"Friday :"}),(0,F.jsx)(N(),{readOnly:!z,min:0,max:10,onChange:function(e){me("Friday",e)},value:null===(re=O.workingDays)||void 0===re||null===(le=re.find((function(e){return"Friday"===e.day})))||void 0===le?void 0:le.sessions})]}),(0,F.jsxs)(f.Z,{xs:12,md:6,className:e.gridElement,children:[(0,F.jsx)(j.Z,{className:e.label,children:"Saturday :"}),(0,F.jsx)(N(),{readOnly:!z,min:0,max:10,onChange:function(e){me("Saturday",e)},value:null===(oe=O.workingDays)||void 0===oe||null===(de=oe.find((function(e){return"Saturday"===e.day})))||void 0===de?void 0:de.sessions})]}),(0,F.jsxs)(f.Z,{xs:12,md:6,className:e.gridElement,children:[(0,F.jsx)(j.Z,{className:e.label,children:"Sunday :"}),(0,F.jsx)(N(),{readOnly:!z,min:0,max:10,onChange:function(e){me("Sunday",e)},value:null===(ce=O.workingDays)||void 0===ce||null===(ue=ce.find((function(e){return"Sunday"===e.day})))||void 0===ue?void 0:ue.sessions})]})]})}),(0,F.jsx)(x.x7,{})]})},z=i(2509),E=(0,I.Z)((function(e){return{tabPanel:(0,w.Z)({padding:24},e.breakpoints.down("sm"),{padding:"3px !important"})}})),L=i(1038),B=i(7621),O=i(9504),W=i(890),A=i(2363),M=i(3385),q=function(){var e,n,i=(0,L.yK)(),s=(0,D.k6)(),r=(0,a.useState)([]),l=(0,t.Z)(r,2),o=l[0],d=l[1],c=!1;(0,a.useEffect)((function(){u()}),[]);var u=function(){var e=(0,m.Z)((0,p.Z)().mark((function e(){var n;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!1,n=g().CancelToken.source(),e.next=4,g().get("".concat("http://localhost:8000/web","/fees-structure-info")).then((function(e){console.log(e.data),d(e.data)})).catch((function(e){c||403===e.request.status&&(localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),s.replace("/login"),s.go(0))})).finally((function(){return function(){c=!0,n.cancel("Cancelling in cleanup")}}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,F.jsxs)(a.Fragment,{children:["Admin"===(null===(e=JSON.parse(localStorage.getItem("userDetail")))||void 0===e||null===(n=e.profile)||void 0===n?void 0:n.name)?(0,F.jsx)(v.Z,{component:"span",className:i.hideButtons,children:(0,F.jsx)(f.Z,{container:!0,spacing:5,children:(0,F.jsx)(f.Z,{xs:6,md:6,justifyContent:"flex-end",className:i.gridElement,children:(0,F.jsx)(Z.Z,{variant:"contained",size:"medium",onClick:function(){s.push("setup/add-fee")},children:"Add Fee"})})})}):(0,F.jsx)("span",{}),(0,F.jsx)(v.Z,{sx:{width:"100%"},children:(0,F.jsx)(f.Z,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},children:o.map((function(e){var n;return(0,F.jsx)(f.Z,{item:!0,children:(0,F.jsx)(B.Z,{style:{minWidth:300,width:"auto",margin:20},children:(0,F.jsxs)(O.Z,{children:[(0,F.jsx)(W.Z,{gutterBottom:!0,variant:"h6",component:"div",children:e.name}),(0,F.jsx)(v.Z,{style:{margin:20},children:(0,F.jsxs)(f.Z,{container:!0,style:{marginBottom:10},children:[(0,F.jsx)(f.Z,{children:(0,F.jsx)(W.Z,{style:{paddingRight:5},variant:"body1",color:"text.secondary",children:"Total Fees:"})}),(0,F.jsx)(f.Z,{children:null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.map((function(e){return e.amount})).reduce((function(e,n){return parseFloat(e)+parseFloat(n)}))})]})}),(0,F.jsx)(A.Z,{style:{position:"relative"},children:(0,F.jsxs)(y.Z,{onClick:function(){s.push("/setup/fee-details?feeId=".concat(e._id))},variant:"text",size:"small",style:{position:"absolute",right:0,top:0,cursor:"pointer"},children:["Details ",(0,F.jsx)(M.Z,{style:{fontSize:9,cursor:"pointer"}})]})})]})})},e._id)}))})})]})},H=function(){var e=E(),n=a.useState("1"),i=(0,t.Z)(n,2),c=i[0],u=i[1];return(0,F.jsx)(s.Z,{sx:{width:"100%",typography:"body1"},children:(0,F.jsxs)(l.ZP,{value:c,children:[(0,F.jsx)(s.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,F.jsxs)(o.Z,{variant:"scrollable",onChange:function(e,n){u(n)},"aria-label":"lab API tabs example",children:[(0,F.jsx)(r.Z,{label:"Institution Setup",value:"1"}),(0,F.jsx)(r.Z,{label:"Classes Setup",value:"2"}),(0,F.jsx)(r.Z,{label:"Fee Structures",value:"3"})]})}),(0,F.jsx)(d.Z,{className:e.tabPanel,value:"1",children:(0,F.jsx)(P,{})}),(0,F.jsx)(d.Z,{className:e.tabPanel,value:"2",children:(0,F.jsx)(z.default,{})}),(0,F.jsx)(d.Z,{className:e.tabPanel,value:"3",children:(0,F.jsx)(q,{})})]})})}},2509:function(e,n,i){i.r(n),i.d(n,{default:function(){return T}});var t=i(4165),a=i(5861),s=i(885),r=i(2791),l=i(6140),o=i(4267),d=i(9725),c=i(9271),u=i(4569),p=i.n(u),m=i(1971),x=i(1288),h=i(6513),g=i(8455),v=i(5048),f=i(7621),Z=i(4721),y=i(3385),j=i(2363),b=i(9504),S=i(3786),C=i(8096),N=i(8406),k=[{label:"2020-21",value:"2020-21"},{label:"2021-22",value:"2021-22"},{label:"2022-23",value:"2022-23"}],w=i(890),I=i(184),T=function(){var e=(0,d.yK)(),n=(0,c.k6)(),i=!1,u=(0,r.useState)(!1),T=(0,s.Z)(u,2),D=T[0],F=T[1],P=(0,r.useState)(!1),z=(0,s.Z)(P,2),E=z[0],L=z[1],B=(0,r.useState)(),O=(0,s.Z)(B,2),W=O[0],A=O[1],M=(0,r.useState)(0),q=(0,s.Z)(M,2),H=q[0],R=q[1],U=(0,r.useState)([]),K=(0,s.Z)(U,2),_=K[0],J=K[1];(0,r.useEffect)((function(){console.log(k),Q()}),[]),(0,r.useEffect)((function(){J(null===W||void 0===W?void 0:W.filter((function(e){var n;return null===(n=e.year)||void 0===n?void 0:n.startsWith(null===H||void 0===H?void 0:H.split("-")[0])})))}),[H]);var X,G,Q=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),i=!1,R(k[k.length-1].value),a=p().CancelToken.source(),e.next=6,p().get("".concat("http://localhost:8000/web","/classes-info")).then((function(e){var n;200===e.status&&(console.log(e.data),0===e.data.length?(0,l.ZP)((0,I.jsx)("span",{style:{color:"#FF9900"},children:"No classes are found. Please add!!"}),{icon:(0,I.jsx)(o.Z,{style:{color:"#FF9900"}})}):(A(e.data),J(null===(n=e.data)||void 0===n?void 0:n.filter((function(e){var n,i;return null===(n=e.year)||void 0===n?void 0:n.startsWith(null===(i=k[k.length-1].value)||void 0===i?void 0:i.split("-")[0])})))))})).catch((function(e){var t;(console.log(e),i)||403===(null===(t=e.request)||void 0===t?void 0:t.status)&&(localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),n.replace("/login"),n.go(0));L(!0)})).finally((function(){return F(!1),function(){i=!0,a.cancel("Cancelling in cleanup")}}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return E?(0,I.jsx)(m.Z,{style:{paddingTop:"50%",backgroundColor:"white"},children:(0,I.jsx)(v.Z,{isPageLoading:D})}):D?(0,I.jsx)(m.Z,{style:{top:"50%"},children:(0,I.jsx)(v.Z,{isPageLoading:D})}):(0,I.jsxs)(r.Fragment,{children:["Admin"===(null===(X=JSON.parse(localStorage.getItem("userDetail")))||void 0===X||null===(G=X.profile)||void 0===G?void 0:G.name)?(0,I.jsx)(m.Z,{component:"span",className:e.hideButtons,children:(0,I.jsxs)(x.Z,{container:!0,spacing:5,children:[(0,I.jsx)(x.Z,{xs:6,md:6,justifyContent:"flex-end",className:e.gridElement,children:(0,I.jsx)(h.Z,{variant:"contained",size:"medium",onClick:function(){n.push("setup/add-class")},children:"Add Class"})}),(0,I.jsx)(x.Z,{xs:6,md:6,justifyContent:"flex-end",className:e.gridElement,children:(0,I.jsx)(m.Z,{sx:{minWidth:120,height:20},children:(0,I.jsx)(C.Z,{fullWidth:!0,children:(0,I.jsx)(N.Z,{variant:"standard",labelId:"demo-simple-select-label",id:"demo-simple-select",value:H,label:"Filter",onChange:function(e){R(e.target.value)},children:k.map((function(e){return(0,I.jsx)(S.Z,{value:e.value,children:e.label})}))})})})})]})}):(0,I.jsx)("span",{}),(0,I.jsx)(m.Z,{sx:{width:"100%"},children:(0,I.jsxs)(x.Z,{container:!0,rowSpacing:1,columnSpacing:1,children:[(null===_||void 0===_?void 0:_.length)>0&&(null===_||void 0===_?void 0:_.map((function(e){var i;return(0,I.jsx)(x.Z,{item:!0,children:(0,I.jsx)(f.Z,{style:{maxWidth:345,margin:20},children:(0,I.jsxs)(b.Z,{children:[(0,I.jsx)(w.Z,{gutterBottom:!0,variant:"h5",component:"div",children:null===e||void 0===e?void 0:e.name}),(0,I.jsx)(w.Z,{style:{padding:10},variant:"body1",children:null===e||void 0===e||null===(i=e.divisions)||void 0===i?void 0:i.map((function(i){var t,a;return(0,I.jsxs)(m.Z,{style:{margin:20},children:[(0,I.jsxs)(w.Z,{gutterBottom:!0,variant:"h6",component:"div",color:"text.primary",children:["Section - ",null===i||void 0===i?void 0:i.section]}),(0,I.jsxs)(x.Z,{container:!0,style:{marginBottom:10},children:[(0,I.jsx)(x.Z,{style:{marginRight:10},children:(0,I.jsx)(w.Z,{variant:"body1",color:"text.secondary",children:"Lead Instructor:"})}),(0,I.jsx)(x.Z,{children:null===i||void 0===i||null===(t=i.leadInstructor)||void 0===t?void 0:t.name})]}),(0,I.jsxs)(x.Z,{container:!0,style:{marginBottom:10},children:[(0,I.jsx)(x.Z,{style:{marginRight:10},children:(0,I.jsx)(w.Z,{variant:"body1",color:"text.secondary",children:"Total Students:"})}),(0,I.jsx)(x.Z,{children:null===i||void 0===i||null===(a=i.students)||void 0===a?void 0:a.length})]}),(0,I.jsx)(j.Z,{style:{position:"relative"},children:(0,I.jsxs)(g.Z,{onClick:function(){n.push("/section/search?class=".concat(e._id,"&division=").concat(i._id))},variant:"text",size:"small",style:{position:"absolute",right:0,top:0,cursor:"pointer"},children:["Details ",(0,I.jsx)(y.Z,{style:{fontSize:9,cursor:"pointer"}})]})}),(0,I.jsx)(Z.Z,{style:{marginTop:10}})]})}))})]})})})}))),0===(null===_||void 0===_?void 0:_.length)&&(0,I.jsx)(m.Z,{style:{position:"relative"},children:(0,I.jsxs)(w.Z,{style:{position:"relative",marginTop:"10%",left:"25vw",top:"25vh"},children:["No Records Found for the year ",H]})})]})}),(0,I.jsx)(l.x7,{})]})}},9725:function(e,n,i){i.d(n,{a:function(){return c},o5:function(){return d},yK:function(){return o}});var t=i(4942),a=i(8596),s=i(7630),r=i(8745),l=i(618),o=(0,a.Z)((function(e){return{gridElement:(0,t.Z)({margin:"15px 0px",display:"flex",width:"100%"},e.breakpoints.down("sm"),{padding:"0px 0px 15px 0px !important",margin:0}),modalDesign:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"95%","& > box-116":{margin:"0px",maxWidth:"0px"}},hideButtons:(0,t.Z)({},e.breakpoints.down("sm"),{display:"none"}),header:{backgroundColor:"#101F33",padding:"5px",color:e.palette.common.white,marginTop:"10px"},label:(0,t.Z)({fontSize:"1rem",fontFamily:["Roboto","Helvetica","Arial","sans-serif"],fontWeight:"400",lineHeight:"1.5",letterSpacing:"0.00938em",color:e.palette.grey[700],"& .MuiTypography-body1":{fontSize:"1.3rem !important"}},e.breakpoints.down("sm"),{fontSize:"1rem !important",padding:"7px 10px 0px 7px","& .MuiTypography-body1":{fontSize:"1rem !important"}}),inputDesign:(0,t.Z)({fontSize:"1rem",fontFamily:["Roboto","Helvetica","Arial","sans-serif"],fontWeight:"400",lineHeight:"1.5",letterSpacing:"0.00938em","& .MuiInputBase-input":{padding:"3px 6px 7px;"}},e.breakpoints.down("sm"),{padding:"5px 10px 0px 7px","& .MuiInputBase-input":{padding:"6px 0 7px"}})}})),d=(0,s.ZP)(r.Z)((function(e){var n,i=e.theme;return n={},(0,t.Z)(n,"&.".concat(l.Z.head),{backgroundColor:"#e9e9e9",color:i.palette.common.black,fontWeight:800}),(0,t.Z)(n,"&.".concat(l.Z.body),{fontSize:14}),n})),c=(0,s.ZP)(r.Z)((function(e){var n,i=e.theme;return n={},(0,t.Z)(n,"&.".concat(l.Z.head),{backgroundColor:"#e9e9e9",padding:"0px",fontWeight:800,color:i.palette.common.black}),(0,t.Z)(n,"&.".concat(l.Z.body),{fontSize:14}),n}))},1038:function(e,n,i){i.d(n,{yK:function(){return o}});var t=i(4942),a=i(8596),s=i(7630),r=i(8745),l=i(618),o=(0,a.Z)((function(e){return{gridElement:(0,t.Z)({margin:"15px 0px",display:"flex",width:"100%"},e.breakpoints.down("sm"),{padding:"0px 0px 15px 0px !important",margin:0}),hideButtons:(0,t.Z)({},e.breakpoints.down("sm"),{display:"none"}),header:{backgroundColor:"#101F33",padding:"5px",color:e.palette.common.white,marginTop:"10px"},label:(0,t.Z)({fontSize:"1rem",fontFamily:["Roboto","Helvetica","Arial","sans-serif"],fontWeight:"400",lineHeight:"1.5",letterSpacing:"0.00938em",color:e.palette.grey[700],"& .MuiTypography-body1":{fontSize:"1.3rem !important"}},e.breakpoints.down("sm"),{fontSize:"1rem !important",padding:"7px 10px 0px 7px","& .MuiTypography-body1":{fontSize:"1rem !important"}}),inputDesign:(0,t.Z)({fontSize:"1rem",fontFamily:["Roboto","Helvetica","Arial","sans-serif"],fontWeight:"400",lineHeight:"1.5",letterSpacing:"0.00938em","& .MuiInputBase-input":{padding:"3px 6px 7px;"}},e.breakpoints.down("sm"),{padding:"5px 10px 0px 7px","& .MuiInputBase-input":{padding:"6px 0 7px"}})}}));(0,s.ZP)(r.Z)((function(e){var n,i=e.theme;return n={},(0,t.Z)(n,"&.".concat(l.Z.head),{backgroundColor:"#e9e9e9",color:i.palette.common.black,fontWeight:800}),(0,t.Z)(n,"&.".concat(l.Z.body),{fontSize:14}),n})),(0,s.ZP)(r.Z)((function(e){var n,i=e.theme;return n={},(0,t.Z)(n,"&.".concat(l.Z.head),{backgroundColor:"#e9e9e9",padding:"0px",fontWeight:800,color:i.palette.common.black}),(0,t.Z)(n,"&.".concat(l.Z.body),{fontSize:14}),n}))}}]);
//# sourceMappingURL=8361.1b03ca07.chunk.js.map
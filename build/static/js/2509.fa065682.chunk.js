"use strict";(self.webpackChunkscoolzee=self.webpackChunkscoolzee||[]).push([[2509],{2509:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var i=t(4165),o=t(5861),l=t(885),a=t(2791),r=t(6140),s=t(4267),d=t(9725),c=t(9271),u=t(4569),p=t.n(u),h=t(1971),m=t(1288),v=t(6513),x=t(8455),g=t(5048),f=t(7621),Z=t(4721),y=t(3385),j=t(2363),b=t(9504),S=t(3786),k=t(8096),w=t(8406),C=[{label:"2020-21",value:"2020-21"},{label:"2021-22",value:"2021-22"},{label:"2022-23",value:"2022-23"}],z=t(890),F=t(184),W=function(){var e=(0,d.yK)(),n=(0,c.k6)(),t=!1,u=(0,a.useState)(!1),W=(0,l.Z)(u,2),I=W[0],T=W[1],B=(0,a.useState)(!1),N=(0,l.Z)(B,2),P=N[0],D=N[1],E=(0,a.useState)(),R=(0,l.Z)(E,2),A=R[0],H=R[1],M=(0,a.useState)(0),L=(0,l.Z)(M,2),K=L[0],_=L[1],q=(0,a.useState)([]),J=(0,l.Z)(q,2),O=J[0],G=J[1];(0,a.useEffect)((function(){console.log(C),V()}),[]),(0,a.useEffect)((function(){G(null===A||void 0===A?void 0:A.filter((function(e){var n;return null===(n=e.year)||void 0===n?void 0:n.startsWith(null===K||void 0===K?void 0:K.split("-")[0])})))}),[K]);var Q,U,V=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),t=!1,_(C[C.length-1].value),o=p().CancelToken.source(),e.next=6,p().get("".concat("http://localhost:8000/web","/classes-info")).then((function(e){var n;200===e.status&&(console.log(e.data),0===e.data.length?(0,r.ZP)((0,F.jsx)("span",{style:{color:"#FF9900"},children:"No classes are found. Please add!!"}),{icon:(0,F.jsx)(s.Z,{style:{color:"#FF9900"}})}):(H(e.data),G(null===(n=e.data)||void 0===n?void 0:n.filter((function(e){var n,t;return null===(n=e.year)||void 0===n?void 0:n.startsWith(null===(t=C[C.length-1].value)||void 0===t?void 0:t.split("-")[0])})))))})).catch((function(e){var i;(console.log(e),t)||403===(null===(i=e.request)||void 0===i?void 0:i.status)&&(localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),n.replace("/login"),n.go(0));D(!0)})).finally((function(){return T(!1),function(){t=!0,o.cancel("Cancelling in cleanup")}}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return P?(0,F.jsx)(h.Z,{style:{paddingTop:"50%",backgroundColor:"white"},children:(0,F.jsx)(g.Z,{isPageLoading:I})}):I?(0,F.jsx)(h.Z,{style:{top:"50%"},children:(0,F.jsx)(g.Z,{isPageLoading:I})}):(0,F.jsxs)(a.Fragment,{children:["Admin"===(null===(Q=JSON.parse(localStorage.getItem("userDetail")))||void 0===Q||null===(U=Q.profile)||void 0===U?void 0:U.name)?(0,F.jsx)(h.Z,{component:"span",className:e.hideButtons,children:(0,F.jsxs)(m.Z,{container:!0,spacing:5,children:[(0,F.jsx)(m.Z,{xs:6,md:6,justifyContent:"flex-end",className:e.gridElement,children:(0,F.jsx)(v.Z,{variant:"contained",size:"medium",onClick:function(){n.push("setup/add-class")},children:"Add Class"})}),(0,F.jsx)(m.Z,{xs:6,md:6,justifyContent:"flex-end",className:e.gridElement,children:(0,F.jsx)(h.Z,{sx:{minWidth:120,height:20},children:(0,F.jsx)(k.Z,{fullWidth:!0,children:(0,F.jsx)(w.Z,{variant:"standard",labelId:"demo-simple-select-label",id:"demo-simple-select",value:K,label:"Filter",onChange:function(e){_(e.target.value)},children:C.map((function(e){return(0,F.jsx)(S.Z,{value:e.value,children:e.label})}))})})})})]})}):(0,F.jsx)("span",{}),(0,F.jsx)(h.Z,{sx:{width:"100%"},children:(0,F.jsxs)(m.Z,{container:!0,rowSpacing:1,columnSpacing:1,children:[(null===O||void 0===O?void 0:O.length)>0&&(null===O||void 0===O?void 0:O.map((function(e){var t;return(0,F.jsx)(m.Z,{item:!0,children:(0,F.jsx)(f.Z,{style:{maxWidth:345,margin:20},children:(0,F.jsxs)(b.Z,{children:[(0,F.jsx)(z.Z,{gutterBottom:!0,variant:"h5",component:"div",children:null===e||void 0===e?void 0:e.name}),(0,F.jsx)(z.Z,{style:{padding:10},variant:"body1",children:null===e||void 0===e||null===(t=e.divisions)||void 0===t?void 0:t.map((function(t){var i,o;return(0,F.jsxs)(h.Z,{style:{margin:20},children:[(0,F.jsxs)(z.Z,{gutterBottom:!0,variant:"h6",component:"div",color:"text.primary",children:["Section - ",null===t||void 0===t?void 0:t.section]}),(0,F.jsxs)(m.Z,{container:!0,style:{marginBottom:10},children:[(0,F.jsx)(m.Z,{style:{marginRight:10},children:(0,F.jsx)(z.Z,{variant:"body1",color:"text.secondary",children:"Lead Instructor:"})}),(0,F.jsx)(m.Z,{children:null===t||void 0===t||null===(i=t.leadInstructor)||void 0===i?void 0:i.name})]}),(0,F.jsxs)(m.Z,{container:!0,style:{marginBottom:10},children:[(0,F.jsx)(m.Z,{style:{marginRight:10},children:(0,F.jsx)(z.Z,{variant:"body1",color:"text.secondary",children:"Total Students:"})}),(0,F.jsx)(m.Z,{children:null===t||void 0===t||null===(o=t.students)||void 0===o?void 0:o.length})]}),(0,F.jsx)(j.Z,{style:{position:"relative"},children:(0,F.jsxs)(x.Z,{onClick:function(){n.push("/section/search?class=".concat(e._id,"&division=").concat(t._id))},variant:"text",size:"small",style:{position:"absolute",right:0,top:0,cursor:"pointer"},children:["Details ",(0,F.jsx)(y.Z,{style:{fontSize:9,cursor:"pointer"}})]})}),(0,F.jsx)(Z.Z,{style:{marginTop:10}})]})}))})]})})})}))),0===(null===O||void 0===O?void 0:O.length)&&(0,F.jsx)(h.Z,{style:{position:"relative"},children:(0,F.jsxs)(z.Z,{style:{position:"relative",marginTop:"10%",left:"25vw",top:"25vh"},children:["No Records Found for the year ",K]})})]})}),(0,F.jsx)(r.x7,{})]})}},9725:function(e,n,t){t.d(n,{a:function(){return c},o5:function(){return d},yK:function(){return s}});var i=t(4942),o=t(8596),l=t(7630),a=t(8745),r=t(618),s=(0,o.Z)((function(e){return{gridElement:(0,i.Z)({margin:"15px 0px",display:"flex",width:"100%"},e.breakpoints.down("sm"),{padding:"0px 0px 15px 0px !important",margin:0}),modalDesign:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"95%","& > box-116":{margin:"0px",maxWidth:"0px"}},hideButtons:(0,i.Z)({},e.breakpoints.down("sm"),{display:"none"}),header:{backgroundColor:"#101F33",padding:"5px",color:e.palette.common.white,marginTop:"10px"},label:(0,i.Z)({fontSize:"1rem",fontFamily:["Roboto","Helvetica","Arial","sans-serif"],fontWeight:"400",lineHeight:"1.5",letterSpacing:"0.00938em",color:e.palette.grey[700],"& .MuiTypography-body1":{fontSize:"1.3rem !important"}},e.breakpoints.down("sm"),{fontSize:"1rem !important",padding:"7px 10px 0px 7px","& .MuiTypography-body1":{fontSize:"1rem !important"}}),inputDesign:(0,i.Z)({fontSize:"1rem",fontFamily:["Roboto","Helvetica","Arial","sans-serif"],fontWeight:"400",lineHeight:"1.5",letterSpacing:"0.00938em","& .MuiInputBase-input":{padding:"3px 6px 7px;"}},e.breakpoints.down("sm"),{padding:"5px 10px 0px 7px","& .MuiInputBase-input":{padding:"6px 0 7px"}})}})),d=(0,l.ZP)(a.Z)((function(e){var n,t=e.theme;return n={},(0,i.Z)(n,"&.".concat(r.Z.head),{backgroundColor:"#e9e9e9",color:t.palette.common.black,fontWeight:800}),(0,i.Z)(n,"&.".concat(r.Z.body),{fontSize:14}),n})),c=(0,l.ZP)(a.Z)((function(e){var n,t=e.theme;return n={},(0,i.Z)(n,"&.".concat(r.Z.head),{backgroundColor:"#e9e9e9",padding:"0px",fontWeight:800,color:t.palette.common.black}),(0,i.Z)(n,"&.".concat(r.Z.body),{fontSize:14}),n}))}}]);
//# sourceMappingURL=2509.fa065682.chunk.js.map
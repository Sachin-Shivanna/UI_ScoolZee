"use strict";(self.webpackChunkscoolzee=self.webpackChunkscoolzee||[]).push([[6160],{4397:function(e,n,t){t.d(n,{E:function(){return a}});var a=function(e){var n=e.getDate(),t=e.getMonth()+1,a=e.getFullYear(),s=e.getHours(),i=e.getMinutes(),r=s>=12?"PM":"AM";return{strDateTime:n+"/"+t+"/"+a+","+(s=(s%=12)||12)+":"+(i=i<10?"0"+i:i)+" "+r,strTime:s+":"+i+" "+r}}},669:function(e,n,t){t.d(n,{Yk:function(){return u},nm:function(){return c},yK:function(){return l},zl:function(){return d}});var a=t(4942),s=t(8596),i=t(7630),r=t(8745),o=t(618),l=(0,s.Z)((function(e){return{gridElement:(0,a.Z)({margin:"20px 10px",display:"flex",width:"100%"},e.breakpoints.down("sm"),{padding:"0px 0px 15px 0px !important",margin:0}),header:{backgroundColor:"#101F33",padding:"5px",color:e.palette.common.white,marginTop:"10px",marginBottom:"10px"}}})),c=(0,i.ZP)(r.Z)((function(e){var n,t=e.theme;return n={},(0,a.Z)(n,"&.".concat(o.Z.head),{backgroundColor:"#E5E4E2",color:t.palette.common.black,borderBottom:".05px solid #101F33"}),(0,a.Z)(n,"&.".concat(o.Z.body),{fontSize:14}),n})),d=(0,i.ZP)(r.Z)((function(e){var n,t=e.theme;return n={position:"sticky",top:0},(0,a.Z)(n,"&.".concat(o.Z.head),{backgroundColor:"#E5E4E2",color:t.palette.common.black}),(0,a.Z)(n,"&.".concat(o.Z.body),{fontSize:14}),n})),u=(0,i.ZP)(r.Z)((function(e){var n,t=e.theme;return n={},(0,a.Z)(n,"&.".concat(o.Z.head),{backgroundColor:"#101F33",color:t.palette.common.white}),(0,a.Z)(n,"&.".concat(o.Z.body),{fontSize:14}),n}))},6160:function(e,n,t){t.r(n);var a=t(1413),s=t(4165),i=t(2982),r=t(5861),o=t(885),l=t(2791),c=t(4569),d=t.n(c),u=t(1889),m=t(7621),p=t(3385),h=t(2363),x=t(9504),g=t(1971),Z=t(6513),f=t(8302),v=t(6571),y=t(1050),j=t(4946),w=t(3767),S=t(4280),D=t(669),b=t(9271),k=t(7714),E=t(5048),T=t(4397),C=t(184);n.default=function(){var e,n,t=(0,D.yK)(),c=(0,b.k6)(),P=!1,z=null===(e=JSON.parse(localStorage.getItem("userDetail")))||void 0===e||null===(n=e.profile)||void 0===n?void 0:n.name,M=k.f.find((function(e){return e.route===window.location.pathname})),F=(0,l.useState)(!1),A=(0,o.Z)(F,2),N=A[0],I=A[1],B=(0,l.useState)(!1),Y=(0,o.Z)(B,2),L=Y[0],_=(Y[1],(0,l.useState)(new Date((new Date).getFullYear(),0,1))),K=(0,o.Z)(_,2),O=K[0],R=K[1],$=(0,l.useState)(new Date((new Date).getFullYear(),11,31)),q=(0,o.Z)($,2),H=q[0],J=q[1],W=(0,l.useState)([]),G=(0,o.Z)(W,2),Q=G[0],U=G[1];(0,l.useEffect)((function(){V()}),[O,H]);var V=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),P=!1,n=d().CancelToken.source(),e.next=5,d().get("".concat("http://localhost:8000/web","/assessment-info/").concat(O,"/").concat(H)).then((function(e){console.log(e);var n=[];e.data.forEach((function(e){var t=[];t.push.apply(t,(0,i.Z)(e.exams.map((function(e){return e.details.map((function(e){return Number(new Date(e.dateTime))}))}))));var a=t.flat(1),s=new Date(Math.max.apply(null,a)),r=new Date(Math.min.apply(null,a));n.push({id:e._id,owner:e.owner,title:e.title,assessmentStartDateTime:r,assessmentEndDateTime:s})})),U(n)})).catch((function(e){P||403===e.request.status&&(localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),c.replace("/login"),c.go(0))})).finally((function(){return I(!1),function(){P=!0,n.cancel("Cancelling in cleanup")}}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return L?(0,C.jsx)(g.Z,{style:{paddingTop:"50%",backgroundColor:"white"},children:(0,C.jsx)(E.Z,{isPageLoading:N})}):N?(0,C.jsx)(g.Z,{style:{top:"50%"},children:(0,C.jsx)(E.Z,{isPageLoading:N})}):(0,C.jsxs)(l.Fragment,{children:[(0,C.jsx)(g.Z,{component:"span",children:(0,C.jsxs)(u.ZP,{container:!0,children:[(0,C.jsx)(u.ZP,{item:!0,xs:6,justifyContent:"flex-end",className:[t.gridElement,t.hideButtons],children:M.createAccess.includes(z)&&(0,C.jsx)(Z.Z,{variant:"contained",size:"medium",onClick:function(){c.push("/assessments/add-assessment")},children:"Add Assessment"})}),(0,C.jsxs)(u.ZP,{item:!0,xs:6,style:{justifyContent:"space-around"},className:t.gridElement,children:[(0,C.jsx)(v._,{style:{margin:0,marginRight:10},dateAdapter:y.Z,children:(0,C.jsx)(w.Z,{spacing:3,children:(0,C.jsx)(j.$,{label:"Start Date",value:O,inputFormat:"MM/dd/yyyy",onChange:function(e){R(e)},renderInput:function(e){return(0,C.jsx)(S.Z,(0,a.Z)({variant:"standard",style:{width:150,padding:0}},e))}})})}),(0,C.jsx)(v._,{style:{margin:0,marginLeft:10},dateAdapter:y.Z,children:(0,C.jsx)(w.Z,{spacing:3,children:(0,C.jsx)(j.$,{label:"End Date",value:H,inputFormat:"MM/dd/yyyy",onChange:function(e){J(e)},renderInput:function(e){return(0,C.jsx)(S.Z,(0,a.Z)({variant:"standard",style:{width:150,padding:0}},e))}})})})]})]})}),(0,C.jsx)(g.Z,{sx:{width:"100%"},children:(0,C.jsx)(u.ZP,{container:!0,rowSpacing:1,columnSpacing:1,children:(null===Q||void 0===Q?void 0:Q.length)>0&&(null===Q||void 0===Q?void 0:Q.map((function(e){var n,a,s;return(0,C.jsx)(u.ZP,{item:!0,style:{minwidth:370},children:(0,C.jsx)(m.Z,{style:{minWidth:370,margin:"20px 0px 20px 0px"},children:(0,C.jsxs)(x.Z,{children:[(0,C.jsx)(f.Z,{gutterBottom:!0,variant:"h5",component:"div",style:{color:"grey",textAlign:"center"},children:e.title}),(0,C.jsxs)(f.Z,{style:{padding:10},children:[(0,C.jsx)("span",{className:t.label,children:"Owner : "})," ",null===(n=e.owner)||void 0===n?void 0:n.name]}),(0,C.jsxs)(f.Z,{style:{padding:10},children:[(0,C.jsx)("span",{className:t.label,children:"Start Date/Time : "})," ",e.assessmentStartDateTime.toDateString()+", "+(null===(a=(0,T.E)(e.assessmentStartDateTime))||void 0===a?void 0:a.strTime)]}),(0,C.jsxs)(f.Z,{style:{padding:10},children:[(0,C.jsx)("span",{className:t.label,children:"End Date/Time : "})," ",e.assessmentEndDateTime.toDateString()+", "+(null===(s=(0,T.E)(e.assessmentEndDateTime))||void 0===s?void 0:s.strTime)]}),(0,C.jsx)(h.Z,{style:{position:"relative"},children:(0,C.jsxs)(u.ZP,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},children:[(0,C.jsx)(u.ZP,{item:!0,xs:6,children:(0,C.jsx)(Z.Z,{onClick:function(){c.push("/assessments/assessment-detail/".concat(e.id))},variant:"outlined",size:"small",style:{cursor:"pointer"},children:"Results"})}),(0,C.jsx)(u.ZP,{item:!0,xs:6,children:(0,C.jsxs)(Z.Z,{onClick:function(){c.push("/assessments/assessment-detail/".concat(e.id))},variant:"outlined",size:"small",style:{position:"absolute",right:8,cursor:"pointer"},children:["Details ",(0,C.jsx)(p.Z,{style:{fontSize:9,cursor:"pointer"}})]})})]})})]})})},e.id)})))})})]})}}}]);
//# sourceMappingURL=6160.1edab561.chunk.js.map
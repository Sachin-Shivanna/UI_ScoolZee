"use strict";(self.webpackChunkscoolzee=self.webpackChunkscoolzee||[]).push([[1767],{7443:function(e,n,t){t.d(n,{q:function(){return r},z:function(){return i}});var i=[{id:"section",label:"Section",minWidth:100,align:"center",style:{fontSize:"xxx-large",fontWeight:"lighter"}},{id:"leadInstructor",label:"Lead Instructor",minWidth:170,align:"center"},{id:"subject",label:"Subject",minWidth:170,align:"center",format:function(e){return e.toLocaleString("en-US")},style:{lineHeight:4}},{id:"instructor",label:"Instructor",minWidth:170,align:"center",format:function(e){return e.toLocaleString("en-US")}},{id:"sessionsPerWeek",label:"Sessions/week",maxWidth:70,align:"center",format:function(e){return e.toLocaleString("en-US")}},{id:"totalStudents",label:"Total Students",maxWidth:70,align:"center",format:function(e){return e.toLocaleString("en-US")}}],r=[{id:"class",label:"Class",minWidth:170,align:"center"},{id:"section",label:"Section",minWidth:100,align:"center",style:{fontSize:"xxx-large",fontWeight:"lighter"}},{id:"leadInstructor",label:"Lead Instructor",minWidth:170,align:"center",format:function(e){return e.toLocaleString("en-US")}},{id:"totalStudents",label:"Total Students",maxWidth:70,align:"center",format:function(e){return e.toLocaleString("en-US")}},{id:"includeCaregiver",label:"Include Caregiver",type:"boolean",minWidth:170,align:"center"},{id:"select",label:"Select",minWidth:170,type:"boolean",align:"center"}]},1767:function(e,n,t){t.r(n),t.d(n,{default:function(){return ge}});var i=t(1413),r=t(4165),l=t(2982),o=t(5861),a=t(885),s=t(9526),c=t(8302),d=t(2067),u=t(3227),f=t(1969),h=t(5247),m=t(159),g=t(1971),p=t(1288),x=t(6513),Z=t(3712),v=t(6869),j=t(3594),b=t(5159),S=t(4026),y=t(6169),C=t(269),k=t(4569),w=t.n(k),_=t(6140),I=t(2791),P=t(9271),z=t(792),N=t(3033),T=t(4942),W=t(8596),A=t(8745),D=t(618),L=t(7630),F=(0,W.Z)((function(e){return{gridElement:(0,T.Z)({margin:"15px 0px",display:"flex",padding:"0px 0px 10px 0px"},e.breakpoints.down("sm"),{padding:"0px 0px 15px 0px !important",margin:0}),hideButtons:(0,T.Z)({},e.breakpoints.down("sm"),{display:"none"}),header:{backgroundColor:"#101F33",padding:"5px",color:e.palette.common.white},grid:(0,T.Z)({flex:1,flexDirection:"row"},e.breakpoints.down("sm"),{flexDirection:"column",padding:"10px"}),label:(0,T.Z)({fontSize:"1rem",fontFamily:["Roboto","Helvetica","Arial","sans-serif"],fontWeight:"400",lineHeight:"1.5",letterSpacing:"0.00938em",color:e.palette.grey[700],"& .MuiTypography-body1":{fontSize:"1.3rem !important"}},e.breakpoints.down("sm"),{fontSize:"1rem !important",padding:"7px 10px 0px 7px","& .MuiTypography-body1":{fontSize:"1rem !important"}}),inputDesign:(0,T.Z)({fontSize:"1rem",fontFamily:["Roboto","Helvetica","Arial","sans-serif"],fontWeight:"400",lineHeight:"1.5",padding:"3px 5px 7px !important",letterSpacing:"0.00938em","& .MuiInputBase-input":{width:10,padding:"3px 5px 7px !important"}},e.breakpoints.down("sm"),{padding:"5px 10px 0px 7px","& .MuiInputBase-input":{padding:"2px 0 7px"}}),modalDesign:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"95%","& > box-116":{margin:"0px",maxWidth:"0px"}},rootDesign:{"& .Mui-focused":{}},error:{"& .MuiFormHelperText-marginDense":{marginTop:"0px !important"}},pagination:{"& .css-jtlhu6-MuiTablePagination-root":{overflow:"inherit"}},paginationPosition:{"& .css-78c6dr-MuiToolbar-root-MuiTablePagination-toolbar":{position:"absolute",bottom:"10px",right:"0px"}}}})),E=(0,L.ZP)(A.Z)((function(e){var n,t=e.theme;return n={},(0,T.Z)(n,"&.".concat(D.Z.head),{backgroundColor:"#101F33",color:t.palette.common.white}),(0,T.Z)(n,"&.".concat(D.Z.body),{fontSize:14}),n})),q=(0,L.ZP)(A.Z)((function(e){var n,t=e.theme;return n={},(0,T.Z)(n,"&.".concat(D.Z.head),{backgroundColor:"#e9e9e9",padding:"0px",color:t.palette.common.black}),(0,T.Z)(n,"&.".concat(D.Z.body),{fontSize:14}),n})),H=t(5048),M=t(8054),R=t(1241),O=t(1286),U=t(8141),B=t(9836),V=t(3382),Y=t(9281),G=t(6890),J=t(5855),K=t(7443),Q=[{id:"name",label:"Name",minWidth:100,align:"center"},{id:"phone",label:"Phone",minWidth:170,align:"center"},{id:"active",label:"Active",minWidth:70,align:"center",format:function(e){return e.toLocaleString("en-US")}}],X=t(2740),$=t(1889),ee=t(493),ne=t(7621),te=t(9585),ie=t(4852),re=t(9900),le=t(7064),oe=t(9174),ae=t(6151),se=t(4721),ce=t(3786),de=t(5403),ue=t(7482),fe=t(3466),he=t(184),me=function(e){var n,t,i=F(),s=(0,I.useState)([]),d=(0,a.Z)(s,2),u=d[0],f=d[1],h=(0,I.useState)([]),m=(0,a.Z)(h,2),p=m[0],x=m[1],Z=(0,I.useState)((0,l.Z)(e.associatedStudents)),j=(0,a.Z)(Z,2),b=j[0],S=j[1],y=(0,I.useState)([]),C=(0,a.Z)(y,2),k=C[0],_=C[1],P=(0,I.useState)([]),z=(0,a.Z)(P,2),N=z[0],T=z[1],W=(0,I.useState)([]),A=(0,a.Z)(W,2),D=A[0],L=A[1],E=(0,I.useState)(!1),q=(0,a.Z)(E,2),H=q[0],M=q[1];(0,I.useEffect)((function(){x((0,l.Z)(u)),_((0,l.Z)(b))}),[u,b]),(0,I.useEffect)((function(){R()}),[]);var R=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f([]),L([]),S([]),M(!0),n.next=6,w().get("".concat("http://localhost:8000/web","/all-students")).then((function(n){var t=n.data.filter((function(n){return!e.associatedStudents.map((function(e){return e._id})).includes(n._id)}));f(t),S((0,l.Z)(e.associatedStudents))})).catch((function(e){console.log(e)})).finally((function(){M(!1)}));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),O=function(n,t){return(0,he.jsxs)(ne.Z,{children:[(0,he.jsx)(te.Z,{sx:{px:2,py:1},style:{backgroundColor:"#101f3226"},avatar:(0,he.jsx)(oe.Z,{id:"",onClick:function(){!function(e){if("All Students"===e){var n=u.filter((function(e){return N.includes(e._id)}));n.length>0?T((0,l.Z)(N.filter((function(e){return n.map((function(e){return e._id}))===e})))):T((0,l.Z)(u.map((function(e){return e._id}))))}else if("Selected Students"===e){var t=b.filter((function(e){return N.includes(e._id)}));t.length>0?T((0,l.Z)(N.filter((function(e){return t.map((function(e){return e._id}))===e})))):T((0,l.Z)(b.map((function(e){return e._id}))))}}(n)},checked:"All Students"===n&&u.filter((function(e){return N.includes(e._id)})).length>0||"Selected Students"===n&&b.filter((function(e){return N.includes(e._id)})).length>0,indeterminate:!1,disabled:0===t.length,inputProps:{"aria-labelledby":"labelid"}}),title:n}),(0,he.jsx)(se.Z,{}),(0,he.jsx)(v.Z,{style:{margin:10,width:"97%",color:"#101f3226"},size:"small",variant:"outlined",className:i.rootDesign,onChange:function(e){!function(e,n){"All Students"===e?x(""===n?(0,l.Z)(u):(0,l.Z)(u.filter((function(e){var t;return null===(t=e.name)||void 0===t?void 0:t.startsWith(n)})))):"Selected Students"===e&&_(""===n?(0,l.Z)(b):(0,l.Z)(b.filter((function(e){var t;return null===(t=e.name)||void 0===t?void 0:t.startsWith(n)}))))}(n,e.target.value)},InputProps:{startAdornment:(0,he.jsx)(fe.Z,{position:"start",children:(0,he.jsx)(de.Z,{})})}}),(0,he.jsxs)(ee.Z,{sx:{width:"100%",height:350,overflow:"auto",padding:0,margin:0},dense:!0,component:"div",role:"list",children:[t.map((function(t){var r,o="transfer-list-all-item-".concat(t._id,"-label");return(0,he.jsx)(g.Z,{sx:{flexGrow:1},children:(0,he.jsxs)($.ZP,{container:!0,spacing:2,children:[(0,he.jsx)($.ZP,{item:!0,xs:"Selected Students"===n?8:12,children:(0,he.jsxs)(ie.ZP,{role:"listitem",style:{width:"100%"},button:!0,onClick:function(){var e;e=t._id,N.includes(e)?T((0,l.Z)(N.filter((function(n){return n!==e})))):T([].concat((0,l.Z)(N),[e]))},children:[(0,he.jsx)(le.Z,{children:(0,he.jsx)(oe.Z,{checked:!0===N.includes(t._id),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":o}})}),(0,he.jsx)(re.Z,{id:o,primary:t.name})]},t._id)}),"Selected Students"===n?(0,he.jsx)($.ZP,{item:!0,xs:4,children:(0,he.jsx)(v.Z,{select:!0,labelid:"demo-simple-select-label",id:"demo-simple-select",value:t.section,label:"Section",className:i.error,placeholder:"Section",size:"small",onFocus:function(){L(D.filter((function(e){return e!==t._id})))},helperText:D.includes(t._id)?"Required":"",error:D.includes(t._id),variant:"outlined",style:{width:"100%",margin:6,right:4},onChange:function(e){!function(e,n){var t=b.find((function(e){return e._id===n}));t.section=e,S([].concat((0,l.Z)(b.filter((function(e){return e._id!==n}))),[t]))}(e.target.value,t._id)},children:null===(r=e.classDetails)||void 0===r?void 0:r.sections.map((function(e){return(0,he.jsx)(ce.Z,{value:e,children:e},t._id)}))})}):(0,he.jsx)("span",{})]})},t._id)})),(0,he.jsx)(ie.ZP,{})]})]})};return(0,he.jsx)(I.Fragment,{children:(0,he.jsxs)(g.Z,{style:{margin:30},children:[(0,he.jsxs)(c.Z,{style:{margin:"30px 30px 0px 30px",paddingLeft:20},className:i.header,children:["Add Students ",null!==(n=e.classDetails)&&void 0!==n&&n.name?" to ".concat(null===(t=e.classDetails)||void 0===t?void 0:t.name):""," :"]}),(0,he.jsx)(g.Z,{sx:{width:"96.8%",paddingLeft:"30px",marginBottom:25},children:H&&(0,he.jsx)(ue.Z,{color:"inherit"})}),(0,he.jsxs)($.ZP,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:[(0,he.jsx)($.ZP,{item:!0,xs:5,children:O("All Students",p)}),(0,he.jsx)($.ZP,{item:!0,children:(0,he.jsxs)($.ZP,{item:!0,container:!0,xs:2,direction:"column",alignItems:"center",children:[(0,he.jsx)(ae.Z,{sx:{my:.5},variant:"outlined",size:"small",onClick:function(){var e=[];u.filter((function(e){return N.includes(e._id)})).forEach((function(n){n.section="",e=[].concat((0,l.Z)(e),[n])})),S([].concat((0,l.Z)(b),(0,l.Z)(e))),f((0,l.Z)(u.filter((function(e){return!N.includes(e._id)}))))},disabled:0===p.length,"aria-label":"move selected right",children:">"}),(0,he.jsx)(ae.Z,{sx:{my:.5},variant:"outlined",size:"small",onClick:function(){f([].concat((0,l.Z)(u),(0,l.Z)(b.filter((function(e){return N.includes(e._id)}))))),S((0,l.Z)(b.filter((function(e){return!N.includes(e._id)}))))},disabled:0===k.length,"aria-label":"move selected left",children:"<"})]})}),(0,he.jsx)($.ZP,{item:!0,xs:5,children:O("Selected Students",k)})]}),(0,he.jsxs)($.ZP,{container:!0,spacing:1,style:{margin:10},children:[(0,he.jsx)($.ZP,{item:!0,xs:6,md:6,justifyContent:"flex-end",style:{paddingRight:4},className:i.gridElement,children:(0,he.jsx)(ae.Z,{variant:"contained",color:"inherit",size:"medium",onClick:e.handleCancel,children:"Cancel"})}),(0,he.jsx)($.ZP,{item:!0,xs:6,md:6,justifyContent:"flex-start",style:{paddingLeft:4},className:i.gridElement,children:(0,he.jsx)(ae.Z,{variant:"contained",color:"inherit",size:"medium",onClick:function(){var n=b.filter((function(e){return""===e.section}));if(n.length>0)return L(n.map((function(e){return e._id})));e.handalSelectedStudents(b),e.handleCancel()},children:"Save"})})]})]})})},ge=function(){var e=F(),n=(0,P.k6)(),t=!1,k=I.useState(0),T=(0,a.Z)(k,2),W=T[0],D=T[1],L=I.useState(5),$=(0,a.Z)(L,2),ee=$[0],ne=$[1],te=I.useState(!1),ie=(0,a.Z)(te,2),re=ie[0],le=ie[1],oe=I.useState(!1),ae=(0,a.Z)(oe,2),se=ae[0],ce=ae[1],de=I.useState([]),ue=(0,a.Z)(de,2),fe=ue[0],ge=ue[1],pe=I.useState([]),xe=(0,a.Z)(pe,2),Ze=xe[0],ve=xe[1],je=I.useState([]),be=(0,a.Z)(je,2),Se=be[0],ye=be[1],Ce=I.useState([]),ke=(0,a.Z)(Ce,2),we=ke[0],_e=ke[1],Ie=I.useState([]),Pe=(0,a.Z)(Ie,2),ze=Pe[0],Ne=Pe[1],Te=I.useState([]),We=(0,a.Z)(Te,2),Ae=We[0],De=We[1],Le=I.useState(1),Fe=(0,a.Z)(Le,2),Ee=Fe[0],qe=Fe[1],He=I.useState(!1),Me=(0,a.Z)(He,2),Re=Me[0],Oe=Me[1],Ue=I.useState([]),Be=(0,a.Z)(Ue,2),Ve=Be[0],Ye=Be[1],Ge=I.useState(!1),Je=(0,a.Z)(Ge,2),Ke=Je[0],Qe=Je[1],Xe=I.useState(!0),$e=(0,a.Z)(Xe,2),en=$e[0],nn=$e[1],tn=I.useState(!1),rn=(0,a.Z)(tn,2),ln=rn[0],on=rn[1],an=I.useState(""),sn=(0,a.Z)(an,2),cn=sn[0],dn=sn[1],un=I.useState([]),fn=(0,a.Z)(un,2),hn=fn[0],mn=fn[1],gn=I.useState(!1),pn=(0,a.Z)(gn,2),xn=pn[0],Zn=pn[1],vn=I.useState(!1),jn=(0,a.Z)(vn,2),bn=jn[0],Sn=jn[1],yn=I.useState([]),Cn=(0,a.Z)(yn,2),kn=Cn[0],wn=Cn[1],_n=I.useState([]),In=(0,a.Z)(_n,2),Pn=In[0],zn=In[1],Nn=I.useState([]),Tn=(0,a.Z)(Nn,2),Wn=Tn[0],An=Tn[1],Dn=I.useState([]),Ln=(0,a.Z)(Dn,2),Fn=Ln[0],En=Ln[1],qn=I.useState([]),Hn=(0,a.Z)(qn,2),Mn=Hn[0],Rn=Hn[1],On=I.useState({name:"",sections:["A"],year:"",leadInstructor:[],subjects:[],students:[]}),Un=(0,a.Z)(On,2),Bn=Un[0],Vn=Un[1];(0,I.useEffect)((function(){Xn(),$n(),Qn()}),[]),(0,I.useEffect)((function(){var e=Bn;e.subjects=Ae,Vn(e),Qe(!1),setTimeout((function(){Qe(!0)}),0)}),[Ae]),(0,I.useEffect)((function(){var e=Bn;e.leadInstructor=Fn,Vn(e),nn(!1),setTimeout((function(){nn(!0)}),0)}),[Fn]);var Yn,Gn,Jn,Kn,Qn=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,i=w().CancelToken.source(),e.next=4,w().get("".concat("http://localhost:8000/web","/fees-structure-info")).then((function(e){console.log(e.data),Rn((0,l.Z)(e.data))})).catch((function(e){t||403===e.request.status&&(localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),n.replace("/login"),n.go(0))})).finally((function(){return function(){t=!0,i.cancel("Cancelling in cleanup")}}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xn=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le(!0),ve([]),ye([]),t=!1,o=w().CancelToken.source(),e.next=7,w().get("".concat("http://localhost:8000/web","/subject-info")).then((function(e){ve((0,l.Z)(e.data)),ye((0,l.Z)(e.data)),Oe(!1),Vn((0,i.Z)((0,i.Z)({},Bn),{},{year:et()}))})).catch((function(e){t||403===e.request.status&&(localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),n.replace("/login"),n.go(0)),ce(!0)})).finally((function(){return le(!1),function(){t=!0,o.cancel("Cancelling in cleanup")}}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$n=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ye([]),le(!0),t=!1,i=w().CancelToken.source(),e.next=6,w().get("".concat("http://localhost:8000/web","/faculty-info")).then((function(e){console.log(e.data),Ye(e.data)})).catch((function(e){t||403===e.request.status&&(localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),n.replace("/login"),n.go(0)),ce(!0)})).finally((function(){return le(!1),function(){t=!0,i.cancel("Cancelling in cleanup")}}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),et=function(){var e=new Date;return e.getMonth()+1<=3?e.getFullYear()-1+"-"+e.getFullYear():e.getFullYear()+"-"+(e.getFullYear()+1)},nt=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==cn){e.next=4;break}_.ZP.error("Subject name is required."),e.next=9;break;case 4:return le(!0),t=!1,i=w().CancelToken.source(),e.next=9,w().post("".concat("http://localhost:8000/web","/add-subject"),{newSubjectName:cn}).then((function(e){200===e.status&&(dn(""),_.ZP.success("Saved"),Xn())})).catch((function(e){t||(403===e.request.status?(localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),n.replace("/login"),n.go(0)):(dn(""),console.log(e.response.data),_.ZP.error(e.response.data)))})).finally((function(){return le(!1),function(){t=!0,i.cancel("Cancelling in cleanup")}}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tt=function(e){return ye(Se.filter((function(n){return!e.includes(n._id)}))),Se.filter((function(n){return e.includes(n._id)}))},it=function(e){return De(Ae.filter((function(n){return!e.includes(n._id)}))),Ae.filter((function(n){return e.includes(n._id)}))},rt=function(e,n){D(n)},lt=function(e){ne(+e.target.value),D(0)},ot=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n,t){var i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n,t),Sn(""===(null===n||void 0===n?void 0:n.trim())),Sn((null===(i=kn.find((function(e){var n;return""===(null===(n=e.name)||void 0===n?void 0:n.trim())})))||void 0===i?void 0:i.length)>0),(o=Se.find((function(e){return e._id===t}))).name=n,wn([].concat((0,l.Z)(kn.filter((function(e){return e._id!==t}))),[o])),ye([].concat((0,l.Z)(Se.filter((function(e){return e._id!==t}))),[o]));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),at=function(){wn([]),ye((0,l.Z)(Ze)),Zn(!1)},st=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var i,o,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(0,l.Z)(kn.filter((function(e){return void 0!==e.name.trim()}))),console.log(null===(i=o[0])||void 0===i?void 0:i.name),0!==o.length){e.next=5;break}return _.ZP.error("No Subjects to update"),e.abrupt("return");case 5:return le(!0),t=!1,a=w().CancelToken.source(),e.next=10,w().post("".concat("http://localhost:8000/web","/update-subject"),{subjectDetails:o}).then((function(e){200===e.status&&(_.ZP.success("Subject updated!"),Zn(!1),wn([]))})).catch((function(e){t||(403===e.request.status?(localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),n.replace("/login"),n.go(0)):_.ZP.error("Something went wrong!")),ce(!0)})).finally((function(){return le(!1),function(){t=!0,a.cancel("Cancelling in cleanup")}}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(i){var l,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!dt()){e.next=10;break}return(l=Bn).subjSessionsPerWeek=Wn,l.subjInstructorDetails=Pn,le(!0),t=!1,o=w().CancelToken.source(),e.next=9,w().post("".concat("http://localhost:8000/web","/add-new-class"),{classDetails:l}).then((function(e){200===e.status&&(_.ZP.success("Class Saved!"),i?window.location.reload():n.goBack())})).catch((function(e){t||(403===e.request.status?(localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),n.replace("/login"),n.go(0)):_.ZP.error(e.response.data))})).finally((function(){return le(!1),function(){t=!0,o.cancel("Cancelling in cleanup")}}));case 9:console.log(l);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),dt=function(){var e,n,t,i,r,l,o=!1;return""===(null===(e=Bn.name)||void 0===e?void 0:e.trim())?(_.ZP.error("Class name is required"),o):""===(null===(n=Bn.feeStructure)||void 0===n?void 0:n.trim())?(_.ZP.error("Fees amount is required"),o):(console.log(Bn.leadInstructor),console.log(null===(t=Bn.leadInstructor)||void 0===t?void 0:t.length,":  :",Bn.sections.length),(null===(i=Bn.leadInstructor)||void 0===i?void 0:i.length)!==Bn.sections.length?(_.ZP.error("Lead instructor is required for all sections"),o):(Bn.sections.forEach((function(e){var n;if(0===(null===(n=Bn.students.filter((function(n){return n.section===e})))||void 0===n?void 0:n.length))return _.ZP.error("Students are not added to ".concat(e," section")),o})),0===Ae.length?(_.ZP.error("Subjects are required for a class"),o):(null===Pn||void 0===Pn?void 0:Pn.length)!==(null===(r=Bn.sections)||void 0===r?void 0:r.length)*(null===(l=Bn.subjects)||void 0===l?void 0:l.length)?(_.ZP.error("Instructor is required for all the subjects"),o):(null===Pn||void 0===Pn?void 0:Pn.length)!==(null===Wn||void 0===Wn?void 0:Wn.length)?(_.ZP.error("All subjects should have atleast 1 session"),o):o=!0))},ut=function(n){return 0===Ze.length?(0,he.jsx)(s.Z,{style:{minHeight:264},children:(0,he.jsx)(c.Z,{className:e.label,style:{textAlign:"center",paddingTop:"30%"},children:" Please add subjects. "})}):(0,he.jsx)(s.Z,{style:{minHeight:305,maxHeight:305,overflow:"auto"},children:(0,he.jsxs)(d.Z,{dense:!0,component:"div",role:"list",children:[n.map((function(e){var n="transfer-list-item-".concat(null===e||void 0===e?void 0:e._id,"-label");return(0,he.jsxs)(u.Z,{role:"listitem",button:!0,onClick:function(){var n;n=null===e||void 0===e?void 0:e._id,we.includes(n)?_e(we.filter((function(e){return e!==n}))):ze.includes(n)?Ne(ze.filter((function(e){return e!==n}))):-1!==Se.findIndex((function(e){return e._id===n}))?_e([].concat((0,l.Z)(we),[n])):-1!==Ae.findIndex((function(e){return e._id===n}))&&Ne([].concat((0,l.Z)(ze),[n]))},children:[(0,he.jsx)(f.Z,{children:(0,he.jsx)(h.Z,{checked:we.includes(null===e||void 0===e?void 0:e._id)||ze.includes(null===e||void 0===e?void 0:e._id),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":n}})}),(0,he.jsx)(m.Z,{id:n,primary:"".concat(null===e||void 0===e?void 0:e.name)})]},null===e||void 0===e?void 0:e._id)})),(0,he.jsx)(u.Z,{})]})})};return se?(0,he.jsx)(g.Z,{style:{paddingTop:"50%",backgroundColor:"white"},children:(0,he.jsx)(H.Z,{isPageLoading:re})}):re?(0,he.jsx)(g.Z,{style:{top:"50%"},children:(0,he.jsx)(H.Z,{isPageLoading:re})}):(0,he.jsxs)(I.Fragment,{children:["Admin"===(null===(Yn=JSON.parse(localStorage.getItem("userDetail")))||void 0===Yn||null===(Gn=Yn.profile)||void 0===Gn?void 0:Gn.name)?(0,he.jsx)(g.Z,{component:"span",className:e.hideButtons,children:(0,he.jsxs)(p.Z,{container:!0,spacing:1,children:[(0,he.jsx)(p.Z,{item:!0,xs:6,md:6,justifyContent:"flex-end",style:{paddingRight:4},className:e.gridElement,children:(0,he.jsx)(x.Z,{variant:"contained",size:"medium",onClick:function(){ct(!1)},children:"Save"})}),(0,he.jsxs)(p.Z,{item:!0,xs:6,md:6,justifyContent:"space-between",style:{paddingLeft:4},className:e.gridElement,children:[(0,he.jsx)(x.Z,{variant:"contained",size:"medium",onClick:function(){ct(!0)},children:"Save and New"}),(0,he.jsx)(x.Z,{variant:"outlined",size:"small",style:{right:"18px"},onClick:function(){on(!0)},children:"Add Students"})]})]})}):(0,he.jsx)("span",{}),(0,he.jsx)(g.Z,{sx:{width:"100%"},children:(0,he.jsxs)(p.Z,{container:!0,spacing:1,children:[(0,he.jsxs)(p.Z,{item:!0,xs:6,children:[(0,he.jsx)(c.Z,{className:e.header,children:"Details :"}),(0,he.jsx)(Z.Z,{style:{paddingTop:10},children:(0,he.jsxs)(g.Z,{container:!0,spacing:5,className:e.grid,children:[(0,he.jsxs)(g.Z,{xs:12,md:6,className:e.gridElement,children:[(0,he.jsx)(c.Z,{className:e.label,children:"Name :"}),(0,he.jsx)(v.Z,{style:{flex:1},inputProps:{className:e.inputDesign},placeholder:"Class Name",helperText:fe.includes("name")?"Name is required":"",error:fe.includes("name"),onFocus:function(){ge(fe.filter((function(e){return"name"!==e})))},value:Bn.name,id:"name",onChange:function(e){Vn((0,i.Z)((0,i.Z)({},Bn),{},{name:e.target.value}))},variant:"standard"})]}),(0,he.jsxs)(g.Z,{xs:12,md:6,className:e.gridElement,children:[(0,he.jsx)(c.Z,{className:e.label,children:"Fees :"}),(0,he.jsx)(X.Z,{style:{width:350},options:Mn||[],disableClearable:!0,getOptionLabel:function(e){return e.name},value:Mn.find((function(e){return e._id===Bn.feeStructure}))||null,isOptionEqualToValue:function(e,n){return(null===e||void 0===e?void 0:e._id)===(null===n||void 0===n?void 0:n._id)},onChange:function(e){var n;Vn((0,i.Z)((0,i.Z)({},Bn),{},{feeStructure:null===(n=Mn[e.target.value])||void 0===n?void 0:n._id}))},id:"disable-close-on-select",renderInput:function(e){return(0,he.jsx)(v.Z,(0,i.Z)((0,i.Z)({},e),{},{variant:"standard",required:!0,id:"feeStructure",style:{paddingLeft:4},placeholder:"Fee Structure"}))}}),(0,he.jsx)(g.Z,{style:{marginLeft:20},children:(0,he.jsx)(x.Z,{onClick:function(){n.push("/setup/add-fee")},style:{backgroundColor:"#101F33",color:"white"},children:"Add Fee"})})]}),(0,he.jsxs)(g.Z,{xs:12,md:6,className:e.gridElement,children:[(0,he.jsx)(c.Z,{className:e.label,children:"Year :"}),(0,he.jsx)(c.Z,{style:{flex:1,paddingLeft:5},children:Bn.year})]}),(0,he.jsxs)(g.Z,{xs:12,md:6,className:e.gridElement,children:[(0,he.jsx)(c.Z,{style:{left:"5px"},className:e.label,children:"Number of sections :"}),(0,he.jsx)(g.Z,{style:{flex:1},children:(0,he.jsx)(x.Z,{onClick:function(){for(var e=["A"],n=1;n<Bn.sections.length-1;n++)e=[].concat((0,l.Z)(e),[String.fromCharCode(e[n-1].charCodeAt(0)+1)]);var t=(0,i.Z)({},Bn);t.sections=e,Vn(t)},style:{fontSize:50,position:"relative",bottom:"12px",left:"16px",backgroundColor:"#101F33",color:"white",height:"1em",width:"1em",borderRadius:25},children:(0,he.jsx)(R.Z,{onClick:function(){qe(Ee>1?Ee-1:Ee)}})})}),(0,he.jsx)(g.Z,{style:{flex:1,height:"1em",width:"1em"},children:(0,he.jsx)(c.Z,{className:e.label,style:{fontSize:50,position:"relative",bottom:"22px"},children:null===(Jn=Bn.sections)||void 0===Jn?void 0:Jn.length})}),(0,he.jsx)(g.Z,{style:{flex:1},children:(0,he.jsx)(x.Z,{onClick:function(){if(Bn.sections.length<5){for(var e=["A"],n=1;n<Bn.sections.length+1;n++)e=[].concat((0,l.Z)(e),[String.fromCharCode(e[n-1].charCodeAt(0)+1)]);var t=(0,i.Z)({},Bn);t.sections=e,Vn(t)}},style:{fontSize:50,position:"relative",bottom:"12px",right:"45px",backgroundColor:"#101F33",color:"white",height:"1em",width:"1em",borderRadius:25},children:(0,he.jsx)(M.Z,{onClick:function(){qe(Ee<5?Ee+1:Ee)}})})})]})]})}),(0,he.jsxs)(p.Z,{container:!0,spacing:2,children:[(0,he.jsxs)(p.Z,{item:!0,xs:5,children:[(0,he.jsxs)(g.Z,{style:{padding:5},children:[(0,he.jsxs)(x.Z,{variant:"outlined",style:{width:"45%"},color:"inherit",size:"small",onClick:function(){Oe(!0)},children:[(0,he.jsx)(U.Z,{style:{paddingRight:3}}),"Add"]}),(0,he.jsxs)(x.Z,{variant:"outlined",style:{width:"45%",float:"right"},color:"inherit",size:"small",onClick:function(){Zn(!0)},children:[(0,he.jsx)(O.Z,{style:{paddingRight:3}}),"Edit"]})]}),ut(Se)]}),(0,he.jsx)(p.Z,{item:!0,xs:2,style:{paddingTop:47},children:(0,he.jsxs)(p.Z,{container:!0,direction:"column",alignItems:"center",style:{paddingTop:"75px"},children:[(0,he.jsx)(x.Z,{sx:{my:.5},variant:"outlined",size:"small",onClick:function(){De(Se),Ne([].concat((0,l.Z)(ze),[we])),ye([]),_e([])},disabled:0===Se.length,"aria-label":"move all right",children:"\u226b"}),(0,he.jsx)(x.Z,{sx:{my:.5},variant:"outlined",size:"small",onClick:function(){De([].concat((0,l.Z)(Ae),(0,l.Z)(tt(we))))},disabled:0===we.length,"aria-label":"move selected right",children:">"}),(0,he.jsx)(x.Z,{sx:{my:.5},variant:"outlined",size:"small",onClick:function(){ye([].concat((0,l.Z)(Se),(0,l.Z)(it(ze))))},disabled:0===ze.length,"aria-label":"move selected left",children:"<"}),(0,he.jsx)(x.Z,{sx:{my:.5},variant:"outlined",size:"small",onClick:function(){De([]),ye(Ze),Ne([])},disabled:0===Ae.length,"aria-label":"move all left",children:"\u226a"})]})}),(0,he.jsx)(p.Z,{item:!0,xs:5,style:{paddingTop:47},children:ut(Ae)})]})]}),(0,he.jsxs)(p.Z,{item:!0,xs:6,children:[(0,he.jsx)(c.Z,{className:e.header,children:"Students :"}),(0,he.jsx)(g.Z,{style:{maxHeight:605,overflow:"auto"},children:null===Bn||void 0===Bn?void 0:Bn.sections.map((function(n){var t,i,r;return(0,he.jsxs)(g.Z,{style:{marginTop:10},children:[(0,he.jsxs)(c.Z,{style:{textAlign:"center"},children:["Section - ",n]}),(0,he.jsx)(s.Z,{style:{minHeight:400,height:605/(null===Bn||void 0===Bn||null===(t=Bn.sections)||void 0===t?void 0:t.length)},children:hn.filter((function(e){return e.section===n})).length>0?(0,he.jsxs)(g.Z,{style:{minHeight:400,height:605/(null===Bn||void 0===Bn||null===(i=Bn.sections)||void 0===i?void 0:i.length),position:"relative"},children:[(0,he.jsx)(Y.Z,{sx:{maxHeight:"100vh"},children:(0,he.jsxs)(B.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,he.jsx)(G.Z,{children:(0,he.jsx)(J.Z,{children:Q.map((function(e){return(0,he.jsx)(q,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),(0,he.jsx)(V.Z,{children:hn.filter((function(e){return e.section===n})).slice(W*ee,W*ee+ee).map((function(e){return(0,he.jsx)(J.Z,{role:"checkbox",tabIndex:-1,children:Q.map((function(n){return(0,he.jsx)(A.Z,{align:n.align,style:{padding:0},children:"name"===n.id?e.name:"phone"===n.id?e.phone1:"active"===n.id?(0,he.jsx)(h.Z,{disabled:!0,checked:e.active}):(0,he.jsx)("span",{})},n.id)}))},e._id)}))})]})}),(0,he.jsx)(N.Z,{className:[e.pagination,e.paginationPosition],rowsPerPageOptions:[5,10],component:"div",count:null===(r=hn.filter((function(e){return e.section===n})))||void 0===r?void 0:r.length,rowsPerPage:ee,page:W,onPageChange:rt,onRowsPerPageChange:lt})]}):(0,he.jsx)(c.Z,{style:{textAlign:"center",verticalAlign:"middle",lineHeight:"400px"},children:"No students added to this section."})})]},n)}))})]})]})}),(0,he.jsx)(_.x7,{}),(0,he.jsxs)(j.Z,{open:Re,onClose:function(){dn(""),Oe(!1)},children:[(0,he.jsx)(b.Z,{children:"New Subject"}),(0,he.jsxs)(S.Z,{children:[(0,he.jsx)(y.Z,{children:"Please enter the Subject name."}),(0,he.jsx)(v.Z,{autoFocus:!0,margin:"dense",id:"name",label:"Subject :",type:"string",fullWidth:!0,value:cn,onChange:function(e){dn(e.target.value)},variant:"standard"})]}),(0,he.jsxs)(C.Z,{children:[(0,he.jsx)(x.Z,{onClick:function(){dn(""),Oe(!1)},children:"Cancel"}),(0,he.jsx)(x.Z,{variant:"contained",style:{backgroundColor:"#101F33",color:"white"},onClick:function(){nt()},children:"Add Subject"})]})]}),(0,he.jsxs)(j.Z,{open:xn,onClose:function(){at()},children:[(0,he.jsx)(b.Z,{children:"Edit Subject"}),(0,he.jsxs)(S.Z,{children:[0===we.length&&(0,he.jsx)(c.Z,{children:"Please select the subjects to edit."}),we.length>0&&we.map((function(e){var n;return(0,he.jsx)(v.Z,{margin:"dense",id:"name",type:"string",fullWidth:!0,value:null===(n=Se.find((function(n){return n._id===e})))||void 0===n?void 0:n.name,onChange:function(n){ot(n.target.value,e)},variant:"standard"},e)}))]}),(0,he.jsxs)(C.Z,{children:[(0,he.jsx)(x.Z,{onClick:function(){at()},children:"Cancel"}),we.length>0&&(0,he.jsx)(g.Z,{children:(0,he.jsx)(x.Z,{variant:"contained",disabled:bn,style:{backgroundColor:"#101F33",color:"white"},onClick:function(){st()},children:"Save"})})]})]}),(0,he.jsx)(s.Z,{sx:{width:"100%",overflow:"hidden"},children:(0,he.jsx)(Y.Z,{sx:{maxHeight:"100vh",marginTop:"15px"},children:(0,he.jsxs)(B.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,he.jsx)(G.Z,{children:(0,he.jsx)(J.Z,{children:K.z.map((function(e){return"totalStudents"!==e.id&&(0,he.jsx)(E,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),(0,he.jsx)(V.Z,{children:null===(Kn=Bn.sections)||void 0===Kn?void 0:Kn.map((function(e){return(0,he.jsx)(J.Z,{role:"checkbox",tabIndex:-1,children:K.z.map((function(n){var t;return"totalStudents"!==n.id&&(0,he.jsx)(A.Z,{align:n.align,style:n.style,children:"class"===n.id?Bn.name:"section"===n.id?e:"leadInstructor"===n.id&&en?(0,he.jsx)(X.Z,{style:{width:200},options:Ve||[],disableClearable:!0,getOptionLabel:function(e){return e.name},value:Ve.find((function(n){var t,i;return n._id===(null===(t=Bn.leadInstructor)||void 0===t||null===(i=t.find((function(n){return n.section===e})))||void 0===i?void 0:i.Id)}))?Ve.find((function(n){var t,i;return n._id===(null===(t=Bn.leadInstructor)||void 0===t||null===(i=t.find((function(n){return n.section===e})))||void 0===i?void 0:i.Id)})):null,isOptionEqualToValue:function(e,n){return(null===e||void 0===e?void 0:e._id)===(null===n||void 0===n?void 0:n._id)},onChange:function(n){!function(e,n){var t;console.log(e,n);var i=Fn;(i=i.filter((function(n){return n.section!==e}))).push({section:e,Id:(null===(t=Ve[n])||void 0===t?void 0:t._id)||""}),En(i)}(e,n.target.value)},id:"disable-close-on-select",renderInput:function(t){return(0,he.jsx)(v.Z,(0,i.Z)((0,i.Z)({},t),{},{variant:"outlined",required:!0,id:"leadInstructor-".concat(e),label:n.label,placeholder:"Name"}))}}):"subject"===n.id||"instructor"===n.id||"sessionsPerWeek"===n.id?null===(t=Bn.subjects)||void 0===t?void 0:t.map((function(t){var r;return Ke&&(0,he.jsx)(J.Z,{role:"checkbox",tabIndex:-1,children:(0,he.jsx)(A.Z,{align:n.align,style:n.style,children:"subject"===n.id?t.name:"instructor"===n.id?(0,he.jsx)(X.Z,{style:{width:200},options:Ve||[],disableClearable:!0,getOptionLabel:function(e){return e.name},value:Ve.find((function(n){var i;return n._id===(null===(i=Pn.find((function(n){return n.section===e&&n.subjectId===t._id})))||void 0===i?void 0:i.instructorId)}))?Ve.find((function(n){var i;return n._id===(null===(i=Pn.find((function(n){return n.section===e&&n.subjectId===t._id})))||void 0===i?void 0:i.instructorId)})):null,isOptionEqualToValue:function(e,n){return(null===e||void 0===e?void 0:e._id)===(null===n||void 0===n?void 0:n._id)},onChange:function(n){!function(e,n,t){var i;zn([].concat((0,l.Z)(Pn),[{subjectId:e,section:n,instructorId:null===(i=Ve[t])||void 0===i?void 0:i._id}]))}(t._id,e,n.target.value)},id:"disable-close-on-select",renderInput:function(e){return(0,he.jsx)(v.Z,(0,i.Z)((0,i.Z)({},e),{},{variant:"outlined",required:!0,id:"instructor-".concat(t.name),label:n.label,placeholder:"Name"}))}}):"sessionsPerWeek"===n.id?(0,he.jsx)(v.Z,{style:{width:100},variant:"outlined",id:"outlined-number",label:t.name,value:(null===(r=Wn.find((function(n){return"".concat(n.subjectId,"_").concat(n.section)==="".concat(t._id,"_").concat(e)})))||void 0===r?void 0:r.sessionsPerWeek)||"",type:"number",onChange:function(n){!function(e,n,t){console.log(Wn),console.log(e,n);var i=Wn.filter((function(t){return"".concat(t.subjectId,"_").concat(t.section)!=="".concat(e,"_").concat(n)}))?Wn.filter((function(t){return"".concat(t.subjectId,"_").concat(t.section)!=="".concat(e,"_").concat(n)})):[];console.log(i),An([].concat((0,l.Z)(i),[{subjectId:e,section:n,sessionsPerWeek:t}]))}(t._id,e,n.target.value)},InputLabelProps:{shrink:!0}}):""},t.id)},t._id)})):""},n.id)}))},e)}))})]})})}),(0,he.jsx)(z.Z,{open:ln,onClose:function(){on(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,he.jsx)(g.Z,{style:{backgroundColor:"white",height:"80vh"},className:e.modalDesign,children:(0,he.jsx)(me,{classDetails:Bn,handleCancel:function(){on(!1)},handalSelectedStudents:function(e){mn(e);var n=Bn;n.students=e,Vn(n)},associatedStudents:hn})})})]})}},8141:function(e,n,t){var i=t(5318);n.Z=void 0;var r=i(t(5649)),l=t(184),o=(0,r.default)((0,l.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutline");n.Z=o},8054:function(e,n,t){var i=t(5318);n.Z=void 0;var r=i(t(5649)),l=t(184),o=(0,r.default)((0,l.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddOutlined");n.Z=o},1286:function(e,n,t){var i=t(5318);n.Z=void 0;var r=i(t(5649)),l=t(184),o=(0,r.default)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");n.Z=o},1241:function(e,n,t){var i=t(5318);n.Z=void 0;var r=i(t(5649)),l=t(184),o=(0,r.default)((0,l.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"RemoveOutlined");n.Z=o}}]);
//# sourceMappingURL=1767.b9601516.chunk.js.map
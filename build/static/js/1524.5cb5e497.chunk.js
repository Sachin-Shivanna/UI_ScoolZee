"use strict";(self.webpackChunkscoolzee=self.webpackChunkscoolzee||[]).push([[1524],{1038:function(e,n,t){t.d(n,{yK:function(){return c}});var i=t(4942),o=t(8596),r=t(7630),a=t(8745),s=t(618),c=(0,o.Z)((function(e){return{gridElement:(0,i.Z)({margin:"15px 0px",display:"flex",width:"100%"},e.breakpoints.down("sm"),{padding:"0px 0px 15px 0px !important",margin:0}),hideButtons:(0,i.Z)({},e.breakpoints.down("sm"),{display:"none"}),header:{backgroundColor:"#101F33",padding:"5px",color:e.palette.common.white,marginTop:"10px"},label:(0,i.Z)({fontSize:"1rem",fontFamily:["Roboto","Helvetica","Arial","sans-serif"],fontWeight:"400",lineHeight:"1.5",letterSpacing:"0.00938em",color:e.palette.grey[700],"& .MuiTypography-body1":{fontSize:"1.3rem !important"}},e.breakpoints.down("sm"),{fontSize:"1rem !important",padding:"7px 10px 0px 7px","& .MuiTypography-body1":{fontSize:"1rem !important"}}),inputDesign:(0,i.Z)({fontSize:"1rem",fontFamily:["Roboto","Helvetica","Arial","sans-serif"],fontWeight:"400",lineHeight:"1.5",letterSpacing:"0.00938em","& .MuiInputBase-input":{padding:"3px 6px 7px;"}},e.breakpoints.down("sm"),{padding:"5px 10px 0px 7px","& .MuiInputBase-input":{padding:"6px 0 7px"}})}}));(0,r.ZP)(a.Z)((function(e){var n,t=e.theme;return n={},(0,i.Z)(n,"&.".concat(s.Z.head),{backgroundColor:"#e9e9e9",color:t.palette.common.black,fontWeight:800}),(0,i.Z)(n,"&.".concat(s.Z.body),{fontSize:14}),n})),(0,r.ZP)(a.Z)((function(e){var n,t=e.theme;return n={},(0,i.Z)(n,"&.".concat(s.Z.head),{backgroundColor:"#e9e9e9",padding:"0px",fontWeight:800,color:t.palette.common.black}),(0,i.Z)(n,"&.".concat(s.Z.body),{fontSize:14}),n}))},1524:function(e,n,t){t.r(n);var i=t(4165),o=t(5861),r=t(2982),a=t(885),s=t(2791),c=t(4569),d=t.n(c),l=t(1971),u=t(1288),p=t(6513),h=t(8302),f=t(3712),m=t(9526),g=t(9836),Z=t(3382),x=t(8745),v=t(9281),j=t(6890),y=t(5855),b=t(4919),S=t(1428),k=t(7848),M=t(6538),C=t(6140),w=t(1038),z=t(9271),E=t(4280),P=t(5048),D=t(184);n.default=function(){var e=(0,w.yK)(),n=(0,z.k6)(),t=!1;function c(e,n,t){return{description:e,amount:n,isEditMode:t}}var R=[c("Tution",0,!1),c("Transport",0,!1),c("Stationary",0,!1),c("Admission fee",0,!1),c("Others",0,!1)],W=(0,s.useState)(!1),N=(0,a.Z)(W,2),T=N[0],F=N[1],I=(0,s.useState)(!1),L=(0,a.Z)(I,2),A=L[0],B=L[1],H=s.useState([]),q=(0,a.Z)(H,2),O=q[0],K=q[1],V=s.useState(""),J=(0,a.Z)(V,2),$=J[0],G=J[1],Q=(0,s.useState)([].concat(R)),U=(0,a.Z)(Q,2),X=U[0],Y=U[1],_=(0,s.useState)(0),ee=(0,a.Z)(_,2),ne=ee[0],te=ee[1];(0,s.useEffect)((function(){re()}),[]);var ie,oe,re=function(){var e;e=X.map((function(e){return e.amount})).reduce((function(e,n){return parseFloat(e)+parseFloat(n)})),te(e)},ae=function(){var e=[],n=!0;return""===$&&(e.push("name"),n=!1),n||K([].concat(e)),n},se=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(o){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ae()){e.next=2;break}return e.abrupt("return");case 2:return r={name:$,feeData:X.map((function(e){return{description:e.description,amount:e.amount}}))},console.log(r),F(!0),t=!1,a=d().CancelToken.source(),e.next=9,d().post("".concat("http://localhost:8000/web","/add-fee-structure"),{finalFeeData:r}).then((function(e){C.ZP.success("Saved!!");o?(Y([].concat(R)),te(0),G("")):n.goBack()})).catch((function(e){t||(403===e.request.status&&(localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),n.replace("/login"),n.go(0)),400===e.request.status&&C.ZP.error("Something went wtong! Please try again...")),B(!0)})).finally((function(){return F(!1),function(){t=!0,a.cancel("Cancelling in cleanup")}}));case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return A?(0,D.jsx)(l.Z,{style:{paddingTop:"50%",backgroundColor:"white"},children:(0,D.jsx)(P.Z,{isPageLoading:T})}):T?(0,D.jsx)(l.Z,{style:{top:"50%"},children:(0,D.jsx)(P.Z,{isPageLoading:T})}):(0,D.jsxs)(s.Fragment,{children:["Admin"===(null===(ie=JSON.parse(localStorage.getItem("userDetail")))||void 0===ie||null===(oe=ie.profile)||void 0===oe?void 0:oe.name)?(0,D.jsx)(l.Z,{component:"span",className:e.hideButtons,children:(0,D.jsxs)(u.Z,{justifyContent:"space-between",container:!0,spacing:1,children:[(0,D.jsx)(u.Z,{item:!0,xs:6,md:6,style:{paddingRight:4,justifyContent:"flex-end"},className:e.gridElement,children:(0,D.jsx)(p.Z,{variant:"contained",size:"medium",onClick:function(){se(!1)},children:"Save"})}),(0,D.jsx)(u.Z,{item:!0,xs:6,md:6,style:{paddingLeft:4},className:e.gridElement,children:(0,D.jsx)(p.Z,{variant:"contained",size:"medium",onClick:function(){se(!0)},children:"Save and New"})})]})}):(0,D.jsx)("span",{}),(0,D.jsx)(h.Z,{className:e.header,children:"Fee Structure :"}),(0,D.jsx)(f.Z,{style:{paddingTop:30,backgroundColor:"white"},children:(0,D.jsx)(u.Z,{container:!0,spacing:4,children:(0,D.jsx)(u.Z,{item:!0,xs:6,children:(0,D.jsxs)(l.Z,{style:{marginBottom:20},children:[(0,D.jsx)(h.Z,{className:e.label,children:"Name :"}),(0,D.jsx)(E.Z,{style:{flex:1},fullWidth:!0,inputProps:{className:e.inputDesign},placeholder:"Fee Structure Name",helperText:O.includes("name")?"Name is required":"",error:O.includes("name"),onFocus:function(){K(O.filter((function(e){return"name"!==e})))},value:$||"",id:"name",onChange:function(e){G(e.target.value)},variant:"standard"})]})})})}),(0,D.jsx)(v.Z,{component:m.Z,children:(0,D.jsxs)(g.Z,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[(0,D.jsx)(j.Z,{children:(0,D.jsxs)(y.Z,{children:[(0,D.jsx)(x.Z,{style:{fontWeight:"bold"},children:"Description"}),(0,D.jsx)(x.Z,{align:"right",style:{fontWeight:"bold"},children:"Amount"}),(0,D.jsx)(x.Z,{align:"center",style:{fontWeight:"bold"},children:"Actions"})]})}),(0,D.jsxs)(Z.Z,{children:[X.map((function(e,n){return(0,D.jsxs)(y.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,D.jsxs)(x.Z,{component:"th",scope:"row",children:[!e.isEditMode&&(0,D.jsx)("span",{children:e.description}),e.isEditMode&&(0,D.jsx)(E.Z,{fullWidth:!0,id:"row.description",value:e.description,onChange:function(e){!function(e,n){var t=(0,r.Z)(X);t[e].description=n,Y((0,r.Z)(t))}(n,e.target.value)}})]}),(0,D.jsxs)(x.Z,{align:"right",children:[!e.isEditMode&&(0,D.jsx)("span",{children:e.amount}),e.isEditMode&&(0,D.jsx)(E.Z,{fullWidth:!0,id:"row.description",inputMode:"numeric",value:e.amount,onChange:function(e){!function(e,n){if(""===n||/^[+-]?\d*(?:[.,]\d*)?$/.test(n)){var t=(0,r.Z)(X);t[e].amount=n.replace(/^0+/,"")||0,Y((0,r.Z)(t))}}(n,e.target.value)}})]}),(0,D.jsxs)(x.Z,{align:"center",children:[!e.isEditMode&&(0,D.jsx)("span",{style:{paddingRight:3},children:(0,D.jsx)(b.Z,{onClick:function(n){!function(e){var n=(0,r.Z)(X),t=n.find((function(e){return!0===e.isEditMode}));""===(null===t||void 0===t?void 0:t.description)?C.ZP.error("Description can not be empty"):""!==(n.find((function(e){return e.description===(null===t||void 0===t?void 0:t.description)&&!1===e.isEditMode}))||"")?C.ZP.error("Duplicate description"):(n.map((function(e){return e.isEditMode=!1})),n.find((function(n){return n.description===e.description})).isEditMode=!0,Y((0,r.Z)(n)),re())}(e)}})}),e.isEditMode&&(0,D.jsx)("span",{style:{paddingRight:3},children:(0,D.jsx)(S.Z,{style:{paddingRight:2},onClick:function(){!function(e,n){var t=X;""!==(t.find((function(e){return e.description===n.description&&!1===e.isEditMode}))||"")?C.ZP.error("Duplicate description"):""===n.description?C.ZP.error("Description can not be empty"):(t[e].isEditMode=!1,Y((0,r.Z)(t)),re())}(n,e)}})}),(0,D.jsx)("span",{style:{paddingRight:3},children:(0,D.jsx)(M.Z,{onClick:function(){!function(e){console.log(e);var n=X;n.splice(e,1),console.log(n),Y((0,r.Z)(n))}(n)},style:{paddingRight:2}})}),X.findIndex((function(n){return n.description===e.description}))===X.length-1&&(0,D.jsx)("span",{style:{paddingRight:3},children:(0,D.jsx)(k.Z,{onClick:function(){!function(){var e=X,n=e.find((function(e){return!0===e.isEditMode}));""===(null===n||void 0===n?void 0:n.description)?C.ZP.error("Description can not be empty"):""!==(e.find((function(e){return e.description===(null===n||void 0===n?void 0:n.description)&&!1===e.isEditMode}))||"")?C.ZP.error("Duplicate description"):(e.map((function(e){return e.isEditMode=!1})),e.push(c("",0,!0)),Y((0,r.Z)(e)))}()},style:{paddingRight:2}})})]})]},n)})),(0,D.jsxs)(y.Z,{children:[(0,D.jsx)(x.Z,{component:"th",scope:"row",style:{fontWeight:"bold"},children:"Total"}),(0,D.jsx)(x.Z,{align:"right",style:{fontWeight:"bold"},children:ne})]})]})]})}),(0,D.jsx)(C.x7,{})]})}},7848:function(e,n,t){var i=t(5318);n.Z=void 0;var o=i(t(5649)),r=t(184),a=(0,o.default)((0,r.jsx)("path",{d:"M12 7c-.55 0-1 .45-1 1v3H8c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1h-3V8c0-.55-.45-1-1-1zm0-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"ControlPointRounded");n.Z=a},1428:function(e,n,t){var i=t(5318);n.Z=void 0;var o=i(t(5649)),r=t(184),a=(0,o.default)((0,r.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done");n.Z=a},4919:function(e,n,t){var i=t(5318);n.Z=void 0;var o=i(t(5649)),r=t(184),a=(0,o.default)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"ModeEdit");n.Z=a},6538:function(e,n,t){var i=t(5318);n.Z=void 0;var o=i(t(5649)),r=t(184),a=(0,o.default)((0,r.jsx)("path",{d:"M7 12c0 .55.45 1 1 1h8c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1zm5-10C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"RemoveCircleOutlineRounded");n.Z=a}}]);
//# sourceMappingURL=1524.5cb5e497.chunk.js.map
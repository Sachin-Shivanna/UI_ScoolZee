"use strict";(self.webpackChunkscoolzee=self.webpackChunkscoolzee||[]).push([[4269],{4269:function(n,e,i){i.r(e),i.d(e,{default:function(){return hn}});var t=i(4165),o=i(5861),l=i(885),r=i(2791),a=i(4554),s=i(3896),d=i(4245),c=i(4569),u=i.n(c),v=i(3449),f=i(7283),h=i(4144),p=i(9271),m=i(9725),x=i(2982),Z=i(1413),g=i(1971),j=i(6513),b=i(8302),y=i(3712),S=i(8455),w=i(6869),C=i(3594),k=i(5159),I=i(4026),_=i(6169),P=i(269),N=i(1889),T=i(792),E=i(7482),D=i(6140),z=i(2740),A=i(703),R=i(5048),W=i(9836),L=i(3382),M=i(8745),H=i(9281),q=i(6890),O=i(5855),F=i(4568),B=i(3033),V=i(8891),J=i(3081),K=[{id:"subject",label:"Subject",minWidth:100,align:"center"},{id:"instructor",label:"Instructor",minWidth:100,align:"center"}],U=i(3974),Q=i(1005),G=i(493),$=i(7621),X=i(9585),Y=i(4852),nn=i(9900),en=i(7064),tn=i(9174),on=i(6151),ln=i(4721),rn=i(5403),an=i(3466),sn=i(184),dn=function(n){var e,i,a,s,d=(0,m.yK)(),c=(0,p.k6)(),v=!1,f=(0,r.useState)([]),h=(0,l.Z)(f,2),Z=h[0],j=h[1],y=(0,r.useState)([]),S=(0,l.Z)(y,2),C=S[0],k=S[1],I=(0,r.useState)([]),_=(0,l.Z)(I,2),P=_[0],T=_[1],z=(0,r.useState)([]),A=(0,l.Z)(z,2),W=A[0],L=A[1],M=(0,r.useState)([]),H=(0,l.Z)(M,2),q=H[0],O=H[1],F=(0,r.useState)([]),B=(0,l.Z)(F,2),V=(B[0],B[1]),J=r.useState(!1),K=(0,l.Z)(J,2),U=K[0],Q=K[1],dn=(0,r.useState)(!1),cn=(0,l.Z)(dn,2),un=cn[0],vn=cn[1];(0,r.useEffect)((function(){k((0,x.Z)(Z)),L((0,x.Z)(P))}),[Z,P]),(0,r.useEffect)((function(){console.log(n.classDetails),fn()}),[]),(0,r.useEffect)((function(){console.log(n.classId),console.log(n.divisionId)}),[]);var fn=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return j([]),T([]),V([]),vn(!0),n.next=6,u().get("".concat("http://localhost:8000/web","/all-students")).then((function(n){console.log(n),hn(n.data)})).catch((function(n){console.log(n)})).finally((function(){}));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),hn=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("".concat("http://localhost:8000/web","/class-info-by-id/").concat(n.classId,"/").concat(n.divisionId)).then((function(e){var t,o,l,r,a;console.log(null===(t=e.data)||void 0===t||null===(o=t.divisions.find((function(e){return e._id===n.divisionId})))||void 0===o||null===(l=o.students)||void 0===l?void 0:l.map((function(n){return n._id}))),T((0,x.Z)(null===(r=e.data)||void 0===r||null===(a=r.divisions.find((function(e){return e._id===n.divisionId})))||void 0===a?void 0:a.students)),j(i.filter((function(i){var t,o,l,r;return!(null!==(t=e.data)&&void 0!==t&&null!==(o=t.divisions.find((function(e){return e._id===n.divisionId})))&&void 0!==o&&null!==(l=o.students)&&void 0!==l&&null!==(r=l.map((function(n){return n._id})))&&void 0!==r&&r.includes(i._id))})))})).catch((function(n){console.log(n)})).finally((function(){vn(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),pn=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),v=!1,i=u().CancelToken.source(),e.next=5,u().post("".concat("http://localhost:8000/web","/update-students"),{studentIdList:null===P||void 0===P?void 0:P.map((function(n){return n._id})),sectionId:n.divisionId}).then((function(e){if(console.log(e),200===e.status)return n.handleCancel(!0)})).catch((function(n){v||(403===n.request.status?(localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),c.replace("/login"),c.go(0)):D.ZP.error("Failed to update students"))})).finally((function(){return Q(!1),function(){v=!0,i.cancel("Cancelling in cleanup")}}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mn=function(n,e){return(0,sn.jsxs)($.Z,{children:[(0,sn.jsx)(X.Z,{sx:{px:2,py:1},style:{backgroundColor:"#101f3226"},avatar:(0,sn.jsx)(tn.Z,{id:"",onClick:function(){!function(n){if("All Students"===n){var e=null===Z||void 0===Z?void 0:Z.filter((function(n){return q.includes(n._id)}));e.length>0?O((0,x.Z)(null===q||void 0===q?void 0:q.filter((function(n){return e.map((function(n){return n._id}))===n})))):O((0,x.Z)(Z.map((function(n){return n._id}))))}else if("Associated Students"===n){var i=null===P||void 0===P?void 0:P.filter((function(n){return q.includes(n._id)}));i.length>0?O((0,x.Z)(null===q||void 0===q?void 0:q.filter((function(n){return i.map((function(n){return n._id}))===n})))):O((0,x.Z)(P.map((function(n){return n._id}))))}}(n)},checked:"All Students"===n&&(null===Z||void 0===Z?void 0:Z.filter((function(n){return q.includes(n._id)})).length)>0||"Associated Students"===n&&(null===P||void 0===P?void 0:P.filter((function(n){return q.includes(n._id)})).length)>0,indeterminate:!1,disabled:0===e.length,inputProps:{"aria-labelledby":"labelid"}}),title:n}),(0,sn.jsx)(ln.Z,{}),(0,sn.jsx)(w.Z,{style:{margin:10,width:"97%",color:"#101f3226"},size:"small",variant:"outlined",className:d.rootDesign,onChange:function(e){!function(n,e){"All Students"===n?k(""===e?(0,x.Z)(Z):(0,x.Z)(null===Z||void 0===Z?void 0:Z.filter((function(n){var i;return null===(i=n.name)||void 0===i?void 0:i.startsWith(e)})))):"Associated Students"===n&&L(""===e?(0,x.Z)(P):(0,x.Z)(null===P||void 0===P?void 0:P.filter((function(n){var i;return null===(i=n.name)||void 0===i?void 0:i.startsWith(e)}))))}(n,e.target.value)},InputProps:{startAdornment:(0,sn.jsx)(an.Z,{position:"start",children:(0,sn.jsx)(rn.Z,{})})}}),(0,sn.jsxs)(G.Z,{sx:{width:"100%",height:350,overflow:"auto",padding:0,margin:0},dense:!0,component:"div",role:"list",children:[e.map((function(e){var i="transfer-list-all-item-".concat(e._id,"-label");return(0,sn.jsx)(g.Z,{sx:{flexGrow:1},children:(0,sn.jsx)(N.ZP,{container:!0,spacing:2,children:(0,sn.jsx)(N.ZP,{item:!0,xs:"Associated Students"===n?8:12,children:(0,sn.jsxs)(Y.ZP,{role:"listitem",style:{width:"100%"},button:!0,onClick:function(){var n;n=e._id,q.includes(n)?O((0,x.Z)(null===q||void 0===q?void 0:q.filter((function(e){return e!==n})))):O([].concat((0,x.Z)(q),[n]))},children:[(0,sn.jsx)(en.Z,{children:(0,sn.jsx)(tn.Z,{checked:!0===q.includes(e._id),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":i}})}),(0,sn.jsx)(nn.Z,{id:i,primary:e.name})]},e._id)})})},e._id)})),(0,sn.jsx)(Y.ZP,{})]})]})};return(0,sn.jsxs)(r.Fragment,{children:[U&&(0,sn.jsx)(g.Z,{style:{paddingTop:"50%",backgroundColor:"white"},children:(0,sn.jsx)(R.Z,{isPageLoading:U})}),!U&&(0,sn.jsxs)(g.Z,{style:{margin:0,height:100},children:[(0,sn.jsxs)(N.ZP,{container:!0,spacing:1,className:d.header,children:[(0,sn.jsx)(N.ZP,{item:!0,xs:5,md:5,justifyContent:"flex-start",style:{paddingLeft:4},className:d.gridElement,children:(0,sn.jsx)(b.Z,{children:"Add/Remove Students :"})}),(0,sn.jsx)(N.ZP,{item:!0,xs:7,md:7,justifyContent:"flex-start",style:{paddingRight:4},className:d.gridElement,children:(0,sn.jsxs)(b.Z,{children:[null===(e=n.classDetails)||void 0===e?void 0:e.name," ",null===(i=n.classDetails)||void 0===i||null===(a=i.divisions)||void 0===a||null===(s=a.find((function(e){return e._id===n.divisionId})))||void 0===s?void 0:s.section]})})]}),(0,sn.jsx)(g.Z,{sx:{marginBottom:25},children:un&&(0,sn.jsx)(E.Z,{color:"inherit"})}),(0,sn.jsxs)(N.ZP,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:[(0,sn.jsx)(N.ZP,{item:!0,xs:5,children:mn("All Students",C)}),(0,sn.jsx)(N.ZP,{item:!0,children:(0,sn.jsxs)(N.ZP,{item:!0,container:!0,xs:2,direction:"column",alignItems:"center",children:[(0,sn.jsx)(on.Z,{sx:{my:.5},variant:"outlined",size:"small",onClick:function(){var n=[];null===Z||void 0===Z||Z.filter((function(n){return q.includes(n._id)})).forEach((function(e){e.section="",n=[].concat((0,x.Z)(n),[e])})),T([].concat((0,x.Z)(P),(0,x.Z)(n))),j((0,x.Z)(null===Z||void 0===Z?void 0:Z.filter((function(n){return!q.includes(n._id)}))))},disabled:0===C.length,"aria-label":"move selected right",children:">"}),(0,sn.jsx)(on.Z,{sx:{my:.5},variant:"outlined",size:"small",onClick:function(){j([].concat((0,x.Z)(Z),(0,x.Z)(null===P||void 0===P?void 0:P.filter((function(n){return q.includes(n._id)}))))),T((0,x.Z)(null===P||void 0===P?void 0:P.filter((function(n){return!q.includes(n._id)}))))},disabled:0===W.length,"aria-label":"move selected left",children:"<"})]})}),(0,sn.jsx)(N.ZP,{item:!0,xs:5,children:mn("Associated Students",W)})]}),(0,sn.jsxs)(N.ZP,{container:!0,spacing:1,style:{margin:10},children:[(0,sn.jsx)(N.ZP,{item:!0,xs:6,md:6,justifyContent:"flex-end",style:{paddingRight:4},className:d.gridElement,children:(0,sn.jsx)(on.Z,{variant:"contained",color:"inherit",size:"medium",onClick:function(){n.handleCancel(!1)},children:"Cancel"})}),(0,sn.jsx)(N.ZP,{item:!0,xs:6,md:6,justifyContent:"flex-start",style:{paddingLeft:4},className:d.gridElement,children:(0,sn.jsx)(on.Z,{variant:"contained",color:"inherit",size:"medium",onClick:pn,children:"Save"})})]})]}),(0,sn.jsx)(D.x7,{})]})},cn=i(7714),un=function(n){var e,i,a,s,c=(0,m.yK)(),v=(0,p.k6)(),f=d.parse(window.location.search),h=!1,G=null===(e=JSON.parse(localStorage.getItem("userDetail")))||void 0===e||null===(i=e.profile)||void 0===i?void 0:i.name,$=cn.f.find((function(n){return n.route===window.location.pathname})),X=(0,r.useState)(!1),Y=(0,l.Z)(X,2),nn=Y[0],en=Y[1],tn=(0,r.useState)("Admin"===(null===(a=JSON.parse(localStorage.getItem("userDetail")))||void 0===a||null===(s=a.profile)||void 0===s?void 0:s.name)),on=(0,l.Z)(tn,2),ln=on[0],rn=(on[1],r.useState([])),an=(0,l.Z)(rn,2),un=an[0],vn=an[1],fn=(0,r.useState)(!1),hn=(0,l.Z)(fn,2),pn=hn[0],mn=hn[1],xn=(0,r.useState)(!1),Zn=(0,l.Z)(xn,2),gn=Zn[0],jn=Zn[1],bn=(0,r.useState)({}),yn=(0,l.Z)(bn,2),Sn=yn[0],wn=yn[1],Cn=(0,r.useState)({}),kn=(0,l.Z)(Cn,2),In=(kn[0],kn[1]),_n=r.useState(!1),Pn=(0,l.Z)(_n,2),Nn=Pn[0],Tn=Pn[1],En=r.useState(0),Dn=(0,l.Z)(En,2),zn=Dn[0],An=Dn[1],Rn=r.useState(10),Wn=(0,l.Z)(Rn,2),Ln=Wn[0],Mn=Wn[1],Hn=r.useState(!1),qn=(0,l.Z)(Hn,2),On=qn[0],Fn=qn[1],Bn=r.useState(!1),Vn=(0,l.Z)(Bn,2),Jn=Vn[0],Kn=Vn[1],Un=r.useState({}),Qn=(0,l.Z)(Un,2),Gn=Qn[0],$n=Qn[1],Xn=(0,r.useContext)(U.v),Yn=(0,l.Z)(Xn,2),ne=(Yn[0],Yn[1]),ee=r.useState([]),ie=(0,l.Z)(ee,2),te=ie[0],oe=ie[1],le=(0,r.useState)(!1),re=(0,l.Z)(le,2),ae=re[0],se=re[1],de=(0,r.useState)([]),ce=(0,l.Z)(de,2),ue=ce[0],ve=ce[1];window.onbeforeunload=function(){n.handleRefresh()},(0,r.useEffect)((function(){wn((0,Z.Z)({},n.classInfo)),In((0,Z.Z)({},n.classInfo)),_e(),Ie(),console.log(window.location.pathname)}),[]);var fe,he,pe,me,xe,Ze,ge,je,be,ye,Se,we,Ce,ke,Ie=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return h=!1,e=u().CancelToken.source(),n.next=4,u().get("".concat("http://localhost:8000/web","/fees-structure-info")).then((function(n){console.log(n.data),oe((0,x.Z)(n.data))})).catch((function(n){h||403===n.request.status&&(localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),v.replace("/login"),v.go(0))})).finally((function(){return function(){h=!0,e.cancel("Cancelling in cleanup")}}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),_e=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return vn([]),mn(!0),h=!1,e=u().CancelToken.source(),n.next=6,u().get("".concat("http://localhost:8000/web","/faculty-info")).then((function(n){console.log(n.data),vn(n.data)})).catch((function(n){h||403===n.request.status&&(ne(!1),localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),v.replace("/login"),v.go(0)),jn(!0)})).finally((function(){return mn(!1),function(){h=!0,e.cancel("Cancelling in cleanup")}}));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Pe=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return h=!1,Kn(!0),e=u().CancelToken.source(),n.next=5,u().post("".concat("http://localhost:8000/web","/users-password-reset"),{userId:Gn._id}).then((function(n){console.log(n),200===n.status?D.ZP.success(n.data):D.ZP.error(n.data)})).catch((function(n){h||(403===n.request.status?(ne(!1),localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),v.replace("/login"),v.go(0)):D.ZP.error(n))})).finally((function(){return $n({}),Fn(!1),Kn(!1),function(){h=!0,e.cancel("Cancelling in cleanup")}}));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Ne=function(){var n=(0,o.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!nn){n.next=7;break}return h=!1,e=u().CancelToken.source(),n.next=5,u().post("".concat("http://localhost:8000/web","/update-class"),{classDetails:Sn,divisionId:f.division}).then((function(n){console.log(n),v.goBack()})).catch((function(n){h||(403===n.request.status?(ne(!1),localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),v.replace("/login"),v.go(0)):D.ZP.error(n))})).finally((function(){return $n({}),Fn(!1),Kn(!1),function(){h=!0,e.cancel("Cancelling in cleanup")}}));case 5:n.next=7;break;case 7:en(!nn);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Te=function(n){var e,i;ve((0,x.Z)(null===Sn||void 0===Sn||null===(e=Sn.divisions)||void 0===e||null===(i=e.find((function(n){return n._id===f.division})))||void 0===i?void 0:i.students)),se(n)};return gn?(0,sn.jsx)(g.Z,{style:{paddingTop:"50%",backgroundColor:"white"},children:(0,sn.jsx)(R.Z,{isPageLoading:pn})}):pn?(0,sn.jsx)(g.Z,{style:{top:"50%"},children:(0,sn.jsx)(R.Z,{isPageLoading:pn})}):(0,sn.jsxs)(r.Fragment,{children:[(0,sn.jsx)(g.Z,{component:"span",className:c.hideButtons,children:(0,sn.jsxs)(N.ZP,{container:!0,spacing:1,children:[(0,sn.jsx)(N.ZP,{item:!0,xs:6,md:6,justifyContent:"flex-end",style:{paddingRight:4},className:c.gridElement,children:(null===$||void 0===$||null===(fe=$.editAccess)||void 0===fe?void 0:fe.includes(G))&&(0,sn.jsx)(j.Z,{variant:"contained",style:{marginRight:5},size:"medium",onClick:function(){Ne()},children:nn?"Save":"Edit"})}),(0,sn.jsxs)(N.ZP,{item:!0,xs:6,md:6,justifyContent:"space-between",style:{paddingLeft:12},className:c.gridElement,children:[(null===(he=cn.f.find((function(n){return"/events/add-event"===n.route})).createAccess)||void 0===he?void 0:he.includes(G))&&(0,sn.jsx)(j.Z,{variant:"contained",size:"medium",onClick:function(){Te(!0)},children:"Add Event"}),(0,sn.jsx)(j.Z,{variant:"outlined",size:"small",style:{right:"18px"},onClick:function(){},children:"Timetable"})]})]})}),(0,sn.jsxs)(g.Z,{sx:{flexGrow:1},children:[(0,sn.jsxs)(N.ZP,{container:!0,spacing:2,style:{minHeight:350},children:[(0,sn.jsxs)(N.ZP,{item:!0,xs:6,children:[(0,sn.jsx)(b.Z,{className:c.header,children:"Information :"}),(0,sn.jsxs)(y.Z,{style:{paddingTop:5,backgroundColor:"white",height:"88%",maxHeight:"100vh"},children:[(0,sn.jsx)(g.Z,{container:!0,spacing:2,className:c.grid,children:(0,sn.jsx)(g.Z,{xs:12,md:6,className:c.gridElement,children:(0,sn.jsxs)(b.Z,{className:c.label,children:["Section : ",(0,sn.jsx)("span",{className:c.inputDesign,children:null===Sn||void 0===Sn||null===(pe=Sn.divisions)||void 0===pe||null===(me=pe.find((function(n){return n._id===f.division})))||void 0===me?void 0:me.section})]})})}),(0,sn.jsxs)(N.ZP,{xs:12,md:6,style:{maxWidth:"100%"},className:c.gridElement,children:[(0,sn.jsxs)(b.Z,{style:{minWidth:125,marginTop:10},className:c.label,children:["Lead Instructor :",(!ln||!nn)&&(0,sn.jsx)(S.Z,{onClick:function(){var n;v.push("/users/user-details/".concat(null===(n=un.find((function(n){var e,i,t;return n._id===(null===Sn||void 0===Sn||null===(e=Sn.divisions)||void 0===e||null===(i=e.find((function(n){return n._id===f.division})))||void 0===i||null===(t=i.leadInstructor)||void 0===t?void 0:t._id)})))||void 0===n?void 0:n._id))},style:{cursor:"pointer",color:"inherit",marginLeft:5},underline:"always",children:(null===(xe=un.find((function(n){var e,i,t;return n._id===(null===Sn||void 0===Sn||null===(e=Sn.divisions)||void 0===e||null===(i=e.find((function(n){return n._id===f.division})))||void 0===i||null===(t=i.leadInstructor)||void 0===t?void 0:t._id)})))||void 0===xe?void 0:xe.name)||""})]}),ln&&nn&&(0,sn.jsx)(z.Z,{style:{minWidth:250},disabled:!1,options:un||[],getOptionLabel:function(n){return n.name||""},value:un.find((function(n){var e,i,t;return n._id===(null===Sn||void 0===Sn||null===(e=Sn.divisions)||void 0===e||null===(i=e.find((function(n){return n._id===f.division})))||void 0===i||null===(t=i.leadInstructor)||void 0===t?void 0:t._id)}))||"",isOptionEqualToValue:function(n,e){return(null===n||void 0===n?void 0:n._id)===(null===e||void 0===e?void 0:e._id)},onChange:function(n){var e,i;!function(n){var e=Sn;e.divisions.find((function(n){return n._id===f.division})).leadInstructor=un[n],wn((0,Z.Z)({},e))}(null===(e=n.target)||void 0===e||null===(i=e.dataset)||void 0===i?void 0:i.optionIndex)},id:"disable-close-on-select",renderInput:function(n){var e,i;return(0,sn.jsx)(w.Z,(0,Z.Z)((0,Z.Z)({},n),{},{variant:"standard",required:!0,fullWidth:!0,id:"leadInstructor-".concat(null===Sn||void 0===Sn||null===(e=Sn.divisions)||void 0===e||null===(i=e.find((function(n){return n._id===f.division})))||void 0===i?void 0:i.section),placeholder:"Name"}))}})]}),(0,sn.jsxs)(N.ZP,{xs:12,md:6,style:{maxWidth:"100%"},className:c.gridElement,children:[(0,sn.jsx)(b.Z,{className:c.label,children:"Fees :"}),(!ln||!nn)&&(0,sn.jsx)(g.Z,{container:!0,spacing:2,className:c.grid,children:(0,sn.jsx)(g.Z,{xs:12,md:6,style:{marginTop:1,marginLeft:5},className:c.gridElement,children:(0,sn.jsx)("span",{className:c.inputDesign,children:Sn.feesAmount})})}),ln&&nn&&(0,sn.jsx)(z.Z,{style:{width:350},options:te||[],disableClearable:!0,getOptionLabel:function(n){return n.name},value:te.find((function(n){return n._id===Sn.feeStructure}))||null,isOptionEqualToValue:function(n,e){return(null===n||void 0===n?void 0:n._id)===(null===e||void 0===e?void 0:e._id)},onChange:function(n){var e,i,t;wn((0,Z.Z)((0,Z.Z)({},Sn),{},{feeStructure:null===(e=te[null===(i=n.target)||void 0===i||null===(t=i.dataset)||void 0===t?void 0:t.optionIndex])||void 0===e?void 0:e._id}))},id:"disable-close-on-select",renderInput:function(n){return(0,sn.jsx)(w.Z,(0,Z.Z)((0,Z.Z)({},n),{},{variant:"standard",required:!0,id:"feeStructure",style:{paddingLeft:4},placeholder:"Fee Structure"}))}})]})]})]}),(0,sn.jsxs)(N.ZP,{item:!0,xs:6,children:[(0,sn.jsx)(b.Z,{className:c.header,children:"Courses :"}),(0,sn.jsx)(H.Z,{sx:{maxHeight:"100vh",backgroundColor:"white"},children:(0,sn.jsxs)(W.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,sn.jsx)(q.Z,{children:(0,sn.jsx)(O.Z,{children:K.map((function(n){return(0,sn.jsx)(m.a,{align:n.align,style:{minWidth:n.minWidth},children:n.label},n.id)}))})}),(0,sn.jsx)(L.Z,{children:null===Sn||void 0===Sn||null===(Ze=Sn.divisions)||void 0===Ze||null===(ge=Ze.find((function(n){return n._id===f.division})))||void 0===ge||null===(je=ge.courses)||void 0===je?void 0:je.map((function(n){return(0,sn.jsx)(O.Z,{role:"checkbox",tabIndex:-1,children:K.map((function(e){var i,t;return(0,sn.jsx)(M.Z,{align:e.align,style:{padding:15},children:"subject"===e.id?null===n||void 0===n||null===(i=n.subject)||void 0===i?void 0:i.name:"instructor"===e.id?ln&&nn?(0,sn.jsx)(z.Z,{disabled:!1,options:un||[],disableClearable:!0,getOptionLabel:function(n){return n.name||""},value:(null===n||void 0===n?void 0:n.instructor)||"",isOptionEqualToValue:function(e,i){var t;return(null===e||void 0===e?void 0:e._id)===(null===n||void 0===n||null===(t=n.instructor)||void 0===t?void 0:t._id)},onChange:function(e){var i,t,o;!function(n,e){var i=Sn;i.divisions.find((function(n){return n._id===f.division})).courses.find((function(e){var i;return(null===(i=e.subject)||void 0===i?void 0:i._id)===n})).instructor=un[e],wn((0,Z.Z)({},i))}(null===n||void 0===n||null===(i=n.subject)||void 0===i?void 0:i._id,null===(t=e.target)||void 0===t||null===(o=t.dataset)||void 0===o?void 0:o.optionIndex)},id:"disable-close-on-select",renderInput:function(e){var i;return(0,sn.jsx)(w.Z,(0,Z.Z)((0,Z.Z)({},e),{},{variant:"outlined",required:!0,fullWidth:!0,id:"instructor-".concat(null===n||void 0===n||null===(i=n.instructor)||void 0===i?void 0:i._id),placeholder:"Name"}))}}):(0,sn.jsx)(S.Z,{onClick:function(){var e;v.push("/users/user-details/".concat(null===n||void 0===n||null===(e=n.instructor)||void 0===e?void 0:e._id))},style:{cursor:"pointer",color:"inherit"},underline:"always",children:(null===n||void 0===n||null===(t=n.instructor)||void 0===t?void 0:t.name)||""}):""},e.id)}))},n._id)}))})]})})]})]}),(0,sn.jsx)(b.Z,{className:c.header,children:(0,sn.jsxs)(N.ZP,{container:!0,spacing:1,children:[(0,sn.jsx)(N.ZP,{item:!0,xs:6,md:6,justifyContent:"space-between",style:{paddingLeft:12},className:c.gridElement,children:"Students :"}),(0,sn.jsx)(N.ZP,{item:!0,xs:6,md:6,justifyContent:"flex-end",style:{paddingLeft:12},className:c.gridElement,children:(null===(be=$.editAccess)||void 0===be?void 0:be.includes(G))&&(0,sn.jsx)(j.Z,{variant:"contained",size:"small",style:{right:"18px"},onClick:function(){Tn(!Nn)},children:"Add/Remove"})})]})}),(0,sn.jsxs)(A.Z,{sx:{width:"100%",overflow:"hidden",marginTop:"10px"},children:[(0,sn.jsx)(H.Z,{sx:{maxHeight:"100vh"},children:(0,sn.jsxs)(W.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,sn.jsx)(q.Z,{children:(0,sn.jsx)(O.Z,{children:J.z.map((function(n){var e,i,t;return"profile"!==n.id&&("reset"===n.id&&((null===(e=un.find((function(n){var e,i,t;return n._id===(null===Sn||void 0===Sn||null===(e=Sn.divisions)||void 0===e||null===(i=e.find((function(n){return n._id===f.division})))||void 0===i||null===(t=i.leadInstructor)||void 0===t?void 0:t._id)})))||void 0===e?void 0:e._id)===JSON.parse(localStorage.getItem("userDetail"))._id||"Admin"===(null===(i=JSON.parse(localStorage.getItem("userDetail")))||void 0===i||null===(t=i.profile)||void 0===t?void 0:t.name))||"reset"!==n.id)&&(0,sn.jsx)(m.o5,{align:n.align,style:{minWidth:n.minWidth},children:n.label},n.id)}))})}),(0,sn.jsx)(L.Z,{children:null===Sn||void 0===Sn||null===(ye=Sn.divisions)||void 0===ye||null===(Se=ye.find((function(n){return n._id===f.division})))||void 0===Se?void 0:Se.students.slice(zn*Ln,zn*Ln+Ln).map((function(n){return(0,sn.jsx)(O.Z,{role:"checkbox",tabIndex:-1,children:J.z.map((function(e){var i,t,o,l=n[e.id];return"profile"!==e.id&&(0,sn.jsx)(M.Z,{align:e.align,children:"phone"===e.id?n.phone1:"status"===e.id?n.active?(0,sn.jsx)(F.Z,{color:"success",sx:{fontSize:15}}):(0,sn.jsx)(F.Z,{color:"error",sx:{fontSize:15}}):(null===(i=un.find((function(n){var e,i,t;return n._id===(null===Sn||void 0===Sn||null===(e=Sn.divisions)||void 0===e||null===(i=e.find((function(n){return n._id===f.division})))||void 0===i||null===(t=i.leadInstructor)||void 0===t?void 0:t._id)})))||void 0===i?void 0:i._id)!==JSON.parse(localStorage.getItem("userDetail"))._id&&"Admin"!==(null===(t=JSON.parse(localStorage.getItem("userDetail")))||void 0===t||null===(o=t.profile)||void 0===o?void 0:o.name)||"reset"!==e.id?"name"===e.id?(0,sn.jsx)(S.Z,{onClick:function(){v.push("/users/user-details/".concat(n._id))},style:{cursor:"pointer",color:"inherit"},underline:"always",children:l}):l:(0,sn.jsx)(j.Z,{onClick:function(){var e;e=n,console.log(e),$n(e),Fn(!0)},children:(0,sn.jsx)(V.Z,{})})},e.id)}))},n.id)}))})]})}),(0,sn.jsx)(B.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:null===Sn||void 0===Sn||null===(we=Sn.divisions)||void 0===we||null===(Ce=we.find((function(n){return n._id===f.division})))||void 0===Ce||null===(ke=Ce.students)||void 0===ke?void 0:ke.length,rowsPerPage:Ln,page:zn,onPageChange:function(n,e){An(e)},onRowsPerPageChange:function(n){Mn(+n.target.value),An(0)}})]})]}),(0,sn.jsx)(D.x7,{}),(0,sn.jsxs)(C.Z,{open:On,onClose:function(){Fn(!1),$n({})},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Jn&&(0,sn.jsx)(g.Z,{sx:{width:"100%"},children:(0,sn.jsx)(E.Z,{color:"inherit"})}),(0,sn.jsx)(k.Z,{id:"alert-dialog-title",children:"Reset ".concat(Gn.name,"'s password?")}),(0,sn.jsx)(I.Z,{children:(0,sn.jsxs)(_.Z,{id:"alert-dialog-description",children:["Password reset request will be sent to ",Gn.name,"'s email."]})}),(0,sn.jsxs)(P.Z,{children:[(0,sn.jsx)(j.Z,{disabled:Jn,onClick:function(){Fn(!1),$n({})},children:"Cancel"}),(0,sn.jsx)(j.Z,{disabled:Jn,onClick:Pe,autoFocus:!0,children:"Okay!"})]})]}),(0,sn.jsx)(T.Z,{open:ae,onClose:function(){Te(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,sn.jsx)(g.Z,{style:{backgroundColor:"white",height:"83vh",padding:20},className:c.modalDesign,children:(0,sn.jsx)(Q.default,{hideAudienceCategory:!0,hasCancel:!0,selectedUsers:ue,onCancel:function(){Te(!1)}})})}),(0,sn.jsx)(T.Z,{open:Nn,onClose:function(){Tn(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,sn.jsx)(g.Z,{style:{backgroundColor:"white",height:"73vh"},className:c.modalDesign,children:(0,sn.jsx)(dn,{classId:f.class,divisionId:f.division,classDetails:Sn,handleCancel:function(n){n&&window.location.reload(!1),Tn(!1)}})})})]})},vn=i(7443),fn=function(n){var e,i=(0,m.yK)(),t=(0,p.k6)(),o=(0,r.useState)({}),a=(0,l.Z)(o,2),s=a[0],d=a[1];(0,r.useEffect)((function(){d(n.classInfo)}),[]);return(0,sn.jsxs)(r.Fragment,{children:[(0,sn.jsx)(b.Z,{className:i.header,children:"Related Divisions :"}),(0,sn.jsx)(A.Z,{sx:{width:"100%",overflow:"hidden",marginTop:"10px"},children:(0,sn.jsx)(H.Z,{sx:{maxHeight:"100vh"},children:(0,sn.jsxs)(W.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,sn.jsx)(q.Z,{children:(0,sn.jsx)(O.Z,{children:vn.z.map((function(n){return("totalStudents"===n.id||"section"===n.id||"leadInstructor"===n.id)&&(0,sn.jsx)(m.o5,{align:n.align,style:{minWidth:n.minWidth},children:n.label},n.id)}))})}),(0,sn.jsx)(L.Z,{children:null===s||void 0===s||null===(e=s.divisions)||void 0===e?void 0:e.map((function(e){return(0,sn.jsx)(O.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:vn.z.map((function(i){var o,l;return("totalStudents"===i.id||"section"===i.id||"leadInstructor"===i.id)&&(0,sn.jsx)(M.Z,{align:i.align,children:"totalStudents"===i.id?"".concat(null===(o=e.students)||void 0===o?void 0:o.length):"section"===i.id?(0,sn.jsxs)(S.Z,{onClick:function(){!function(e){t.push("/section/search?class=".concat(s._id,"&division=").concat(e._id)),n.updateDetails({},"1")}(e)},size:"small",style:{cursor:"pointer",color:"inherit",marginLeft:5},underline:"always",children:["Section - ",null===e||void 0===e?void 0:e.section]}):"leadInstructor"===i.id?(0,sn.jsx)(S.Z,{onClick:function(){var n;t.push("/users/user-details/".concat(null===(n=e.leadInstructor)||void 0===n?void 0:n._id))},style:{cursor:"pointer",color:"inherit",marginLeft:5},underline:"always",children:null===(l=e.leadInstructor)||void 0===l?void 0:l.name}):""},i.id)}))},null===e||void 0===e?void 0:e._id)}))})]})})})]})},hn=function(){var n=(0,p.k6)(),e=(0,m.yK)(),i=d.parse(window.location.search),c=!1,x=(0,r.useState)("1"),Z=(0,l.Z)(x,2),g=Z[0],j=Z[1],b=(0,r.useState)({}),y=(0,l.Z)(b,2),S=y[0],w=y[1],C=(0,r.useState)(!1),k=(0,l.Z)(C,2),I=k[0],_=k[1],P=(0,r.useContext)(U.a),N=(0,l.Z)(P,2),T=(N[0],N[1]);(0,r.useEffect)((function(){E()}),[]),(0,r.useEffect)((function(){T(null===S||void 0===S?void 0:S.name),_(!0),setTimeout((function(){_(!1)}),0)}),[S]);var E=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(){var o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!1,o=u().CancelToken.source(),e.next=4,u().get("".concat("http://localhost:8000/web","/class-section-by-id/").concat(i.division)).then((function(n){console.log(n.data),w(n.data)})).catch((function(e){console.log(e),c||403===e.request.status&&(localStorage.removeItem("userDetail"),localStorage.removeItem("userToken"),localStorage.removeItem("activeSubscription"),n.replace("/login"),n.go(0))})).finally((function(){return function(){c=!0,o.cancel("Cancelling in cleanup")}}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(n,e){console.log(e),j(e)};return(0,sn.jsx)(a.Z,{sx:{width:"100%",typography:"body1"},children:(0,sn.jsxs)(v.ZP,{value:g,children:[(0,sn.jsx)(a.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,sn.jsxs)(f.Z,{variant:"scrollable",onChange:D,"aria-label":"lab API tabs example",children:[(0,sn.jsx)(s.Z,{label:"Details",value:"1"}),(0,sn.jsx)(s.Z,{label:"Related",value:"2"})]})}),(0,sn.jsx)(h.Z,{className:e.tabPanel,value:"1",children:!I&&(0,sn.jsx)(un,{classInfo:S,handleRefresh:E})}),(0,sn.jsx)(h.Z,{className:e.tabPanel,value:"2",children:(0,sn.jsx)(fn,{classInfo:S,updateDetails:D})})]})})}},9725:function(n,e,i){i.d(e,{a:function(){return c},o5:function(){return d},yK:function(){return s}});var t=i(4942),o=i(8596),l=i(7630),r=i(8745),a=i(618),s=(0,o.Z)((function(n){return{gridElement:(0,t.Z)({margin:"15px 0px",display:"flex",width:"100%"},n.breakpoints.down("sm"),{padding:"0px 0px 15px 0px !important",margin:0}),modalDesign:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"95%","& > box-116":{margin:"0px",maxWidth:"0px"}},hideButtons:(0,t.Z)({},n.breakpoints.down("sm"),{display:"none"}),header:{backgroundColor:"#101F33",padding:"5px",color:n.palette.common.white,marginTop:"10px"},label:(0,t.Z)({fontSize:"1rem",fontFamily:["Roboto","Helvetica","Arial","sans-serif"],fontWeight:"400",lineHeight:"1.5",letterSpacing:"0.00938em",color:n.palette.grey[700],"& .MuiTypography-body1":{fontSize:"1.3rem !important"}},n.breakpoints.down("sm"),{fontSize:"1rem !important",padding:"7px 10px 0px 7px","& .MuiTypography-body1":{fontSize:"1rem !important"}}),inputDesign:(0,t.Z)({fontSize:"1rem",fontFamily:["Roboto","Helvetica","Arial","sans-serif"],fontWeight:"400",lineHeight:"1.5",letterSpacing:"0.00938em","& .MuiInputBase-input":{padding:"3px 6px 7px;"}},n.breakpoints.down("sm"),{padding:"5px 10px 0px 7px","& .MuiInputBase-input":{padding:"6px 0 7px"}})}})),d=(0,l.ZP)(r.Z)((function(n){var e,i=n.theme;return e={},(0,t.Z)(e,"&.".concat(a.Z.head),{backgroundColor:"#e9e9e9",color:i.palette.common.black,fontWeight:800}),(0,t.Z)(e,"&.".concat(a.Z.body),{fontSize:14}),e})),c=(0,l.ZP)(r.Z)((function(n){var e,i=n.theme;return e={},(0,t.Z)(e,"&.".concat(a.Z.head),{backgroundColor:"#e9e9e9",padding:"0px",fontWeight:800,color:i.palette.common.black}),(0,t.Z)(e,"&.".concat(a.Z.body),{fontSize:14}),e}))},8455:function(n,e,i){var t=i(7462),o=i(5987),l=i(2791),r=i(8182),a=i(1122),s=i(8317),d=i(1175),c=i(9806),u=i(8302),v=l.forwardRef((function(n,e){var i=n.classes,s=n.className,v=n.color,f=void 0===v?"primary":v,h=n.component,p=void 0===h?"a":h,m=n.onBlur,x=n.onFocus,Z=n.TypographyClasses,g=n.underline,j=void 0===g?"hover":g,b=n.variant,y=void 0===b?"inherit":b,S=(0,o.Z)(n,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),w=(0,d.Z)(),C=w.isFocusVisible,k=w.onBlurVisible,I=w.ref,_=l.useState(!1),P=_[0],N=_[1],T=(0,c.Z)(e,I);return l.createElement(u.Z,(0,t.Z)({className:(0,r.Z)(i.root,i["underline".concat((0,a.Z)(j))],s,P&&i.focusVisible,"button"===p&&i.button),classes:Z,color:f,component:p,onBlur:function(n){P&&(k(),N(!1)),m&&m(n)},onFocus:function(n){C(n)&&N(!0),x&&x(n)},ref:T,variant:y},S))}));e.Z=(0,s.Z)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(v)},4568:function(n,e,i){var t=i(5318);e.Z=void 0;var o=t(i(5649)),l=i(184),r=(0,o.default)((0,l.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"}),"Circle");e.Z=r},8891:function(n,e,i){var t=i(5318);e.Z=void 0;var o=t(i(5649)),l=i(184),r=(0,o.default)((0,l.jsx)("path",{d:"M13.26 3C8.17 2.86 4 6.94 4 12H2.21c-.45 0-.67.54-.35.85l2.79 2.79c.2.2.51.2.71 0l2.8-2.79c.3-.31.08-.85-.37-.85H6c0-3.89 3.2-7.06 7.1-7 3.71.05 6.84 3.18 6.9 6.9.06 3.91-3.1 7.1-7 7.1-1.59 0-3.05-.53-4.23-1.43-.4-.3-.96-.27-1.31.09-.43.43-.39 1.14.09 1.5C9.06 20.31 10.95 21 13 21c5.06 0 9.14-4.17 9-9.25-.13-4.7-4.05-8.62-8.74-8.75zM15 11v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1zm-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1v1z"}),"LockResetRounded");e.Z=r},3449:function(n,e,i){i.d(e,{ZP:function(){return a},_i:function(){return s},pQ:function(){return c},uU:function(){return d}});var t=i(885),o=i(2791),l=i(184),r=o.createContext(null);function a(n){var e=n.children,i=n.value,a=function(){var n=o.useState(null),e=(0,t.Z)(n,2),i=e[0],l=e[1];return o.useEffect((function(){l("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),i}(),s=o.useMemo((function(){return{idPrefix:a,value:i}}),[a,i]);return(0,l.jsx)(r.Provider,{value:s,children:e})}function s(){return o.useContext(r)}function d(n,e){return null===n.idPrefix?null:"".concat(n.idPrefix,"-P-").concat(e)}function c(n,e){return null===n.idPrefix?null:"".concat(n.idPrefix,"-T-").concat(e)}},7283:function(n,e,i){var t=i(7462),o=i(3366),l=i(2791),r=i(2101),a=i(3449),s=i(184),d=["children"],c=l.forwardRef((function(n,e){var i=n.children,c=(0,o.Z)(n,d),u=(0,a._i)();if(null===u)throw new TypeError("No TabContext provided");var v=l.Children.map(i,(function(n){return l.isValidElement(n)?l.cloneElement(n,{"aria-controls":(0,a.uU)(u,n.props.value),id:(0,a.pQ)(u,n.props.value)}):null}));return(0,s.jsx)(r.Z,(0,t.Z)({},c,{ref:e,value:u.value,children:v}))}));e.Z=c},4144:function(n,e,i){i.d(e,{Z:function(){return g}});var t=i(7462),o=i(3366),l=i(2791),r=i(8182),a=i(7630),s=i(3736);var d=function(n){return n},c=function(){var n=d;return{configure:function(e){n=e},generate:function(e){return n(e)},reset:function(){n=d}}}(),u={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function v(n,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",t=u[e];return t?"".concat(i,"-").concat(t):"".concat(c.generate(n),"-").concat(e)}function f(n){return v("MuiTabPanel",n)}!function(n,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",t={};e.forEach((function(e){t[e]=v(n,e,i)}))}("MuiTabPanel",["root"]);var h=i(3449),p=i(184),m=["children","className","value"],x=function(n){return function(n,e,i){var t={};return Object.keys(n).forEach((function(o){t[o]=n[o].reduce((function(n,t){return t&&(i&&i[t]&&n.push(i[t]),n.push(e(t))),n}),[]).join(" ")})),t}({root:["root"]},f,n.classes)},Z=(0,a.ZP)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:function(n,e){return e.root}})((function(n){return{padding:n.theme.spacing(3)}})),g=l.forwardRef((function(n,e){var i=(0,s.Z)({props:n,name:"MuiTabPanel"}),l=i.children,a=i.className,d=i.value,c=(0,o.Z)(i,m),u=(0,t.Z)({},i),v=x(u),f=(0,h._i)();if(null===f)throw new TypeError("No TabContext provided");var g=(0,h.uU)(f,d),j=(0,h.pQ)(f,d);return(0,p.jsx)(Z,(0,t.Z)({"aria-labelledby":j,className:(0,r.Z)(v.root,a),hidden:d!==f.value,id:g,ref:e,role:"tabpanel",ownerState:u},c,{children:d===f.value&&l}))}))}}]);
//# sourceMappingURL=4269.149c6b34.chunk.js.map